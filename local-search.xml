<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Typing in symbols</title>
    <link href="/2024/10/30/Typing-in-symbols/"/>
    <url>/2024/10/30/Typing-in-symbols/</url>
    
    <content type="html"><![CDATA[<p>∈</p><p>Α Β Γ Δ Ε Ζ Η Θ Ι Κ Λ Μ Ν Ξ Ο Π Ρ Σ Τ Υ Φ Χ Ψ Ω<br>α β γ δ ε ζ η θ ι κ λ μ ν ξ ο π ρ σ τ υ φ χ ψ ω</p><p>一些 LaTeX 中常用的公式和符号语法，可以帮助你更快速地输入算法笔记中的常用内容：</p><h3 id="1-希腊字母"><a href="#1-希腊字母" class="headerlink" title="1. 希腊字母"></a>1. <strong>希腊字母</strong></h3><ul><li>小写字母：<code>\alpha</code> (α), <code>\beta</code> (β), <code>\gamma</code> (γ), <code>\delta</code> (δ), <code>\epsilon</code> (ε), <code>\theta</code> (θ), <code>\lambda</code> (λ), <code>\mu</code> (μ), <code>\pi</code> (π)</li><li>大写字母：<code>\Gamma</code> (Γ), <code>\Delta</code> (Δ), <code>\Theta</code> (Θ), <code>\Lambda</code> (Λ), <code>\Pi</code> (Π), <code>\Sigma</code> (Σ), <code>\Omega</code> (Ω)</li></ul><h3 id="2-上标和下标"><a href="#2-上标和下标" class="headerlink" title="2. 上标和下标"></a>2. <strong>上标和下标</strong></h3><ul><li>上标（指数）：<code>a^2</code> 会显示为 ( a^2 )</li><li>下标：<code>x_i</code> 会显示为 ( x_i )</li><li>复合使用：<code>x_i^2</code> 会显示为 ( x_i^2 )</li></ul><h3 id="3-逻辑运算符"><a href="#3-逻辑运算符" class="headerlink" title="3. 逻辑运算符"></a>3. <strong>逻辑运算符</strong></h3><ul><li>与（and）：<code>\land</code> (∧)</li><li>或（or）：<code>\lor</code> (∨)</li><li>非（not）：<code>\neg</code> (¬)</li><li>蕴含（implies）：<code>\Rightarrow</code> (⇒)</li><li>等价（equivalent）：<code>\Leftrightarrow</code> (⇔)</li></ul><h3 id="4-集合运算符"><a href="#4-集合运算符" class="headerlink" title="4. 集合运算符"></a>4. <strong>集合运算符</strong></h3><ul><li>属于：<code>\in</code> (( \in ))</li><li>不属于：<code>\notin</code> (( \notin ))</li><li>包含于：<code>\subset</code> (( \subset ))</li><li>包含：<code>\supset</code> (( \supset ))</li><li>空集：<code>\emptyset</code> (( \emptyset ))</li><li>自然数集：<code>\mathbb&#123;N&#125;</code>, 整数集：<code>\mathbb&#123;Z&#125;</code>, 实数集：<code>\mathbb&#123;R&#125;</code>, 复数集：<code>\mathbb&#123;C&#125;</code></li></ul><h3 id="5-求和、积分等运算"><a href="#5-求和、积分等运算" class="headerlink" title="5. 求和、积分等运算"></a>5. <strong>求和、积分等运算</strong></h3><ul><li>求和：<code>\sum_&#123;i=1&#125;^n i</code> 表示 ( \sum_{i&#x3D;1}^n i )</li><li>积分：<code>\int_&#123;a&#125;^&#123;b&#125; f(x) dx</code> 表示 ( \int_{a}^{b} f(x) , dx )</li><li>上限与下限：<code>x \to \infty</code> 表示 ( x \to \infty )</li></ul><h3 id="6-分式和根式"><a href="#6-分式和根式" class="headerlink" title="6. 分式和根式"></a>6. <strong>分式和根式</strong></h3><ul><li>分数：<code>\frac&#123;a&#125;&#123;b&#125;</code> 表示 ( \frac{a}{b} )</li><li>平方根：<code>\sqrt&#123;x&#125;</code> 表示 ( \sqrt{x} )</li><li>任意根：<code>\sqrt[n]&#123;x&#125;</code> 表示 ( \sqrt[n]{x} )</li></ul><h3 id="7-常用符号"><a href="#7-常用符号" class="headerlink" title="7. 常用符号"></a>7. <strong>常用符号</strong></h3><ul><li>不等号：<code>&lt;</code>、<code>&gt;</code>、<code>\leq</code> (≤)、<code>\geq</code> (≥)</li><li>圆周率：<code>\pi</code></li><li>∞：<code>\infty</code></li><li>箭头：<code>\rightarrow</code> (→), <code>\leftarrow</code> (←), <code>\Rightarrow</code> (⇒), <code>\Leftrightarrow</code> (⇔)</li></ul><h3 id="8-文本和公式混排"><a href="#8-文本和公式混排" class="headerlink" title="8. 文本和公式混排"></a>8. <strong>文本和公式混排</strong></h3><ul><li>在数学环境中插入文本：<code>\text&#123;...&#125;</code>，例如 <code>\text&#123;where &#125; x &gt; 0</code> 表示“where ( x &gt; 0 )”。</li></ul><h3 id="9-常用数学符号"><a href="#9-常用数学符号" class="headerlink" title="9. 常用数学符号"></a>9. <strong>常用数学符号</strong></h3><ul><li>x \to \infty</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Learning Journal _ Algorithm Design &amp; Analysis</title>
    <link href="/2024/10/14/Learning-Journal-Algorithm-Design-Analysis/"/>
    <url>/2024/10/14/Learning-Journal-Algorithm-Design-Analysis/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Remove Secret From the Github Repository</title>
    <link href="/2024/10/03/Remove-Secret-From-the-Github-Repository/"/>
    <url>/2024/10/03/Remove-Secret-From-the-Github-Repository/</url>
    
    <content type="html"><![CDATA[<p>What if you found the secrets were published in the codes of github repository?<br>How to remove it entirely?</p><p>Below processes will do :</p><h4 id="1-Remove-the-file-containing-secrets-from-all-commits-and-branches-in-repository"><a href="#1-Remove-the-file-containing-secrets-from-all-commits-and-branches-in-repository" class="headerlink" title="1. Remove the file containing secrets from all commits and branches in repository"></a>1. Remove the file containing secrets from all commits and branches in repository</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git filter-branch --force --index-filter \<br>  <span class="hljs-string">&quot;git rm --cached --ignore-unmatch &lt;PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA&gt;&quot;</span> \<br>  --prune-empty --tag-name-filter <span class="hljs-built_in">cat</span> -- --all<br></code></pre></td></tr></table></figure><blockquote><p>Run this command to rewrite the commit history of the repository, removing any references to the given file. It’s important to note that this command can be destructive, so make sure you understand what it does before using it.</p></blockquote><ul><li><p><strong>git filter-branch</strong>: Used to rewrite the Git revision history.</p></li><li><p><strong>–force</strong>: Overrides some safety checks.</p></li><li><p><strong>–index-filter</strong>: Specifies a filter that modifies the index, or staging area, of each commit. In this case, the filter is “git rm –cached –ignore-unmatch <PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA>“.</p></li><li><p><strong>“git rm –cached –ignore-unmatch <PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA>“</strong>: Removes the specified file from the index, but not from the working tree. The –ignore-unmatch option prevents the command from failing if the file is not present in a particular commit.</p></li><li><p><strong>–prune-empty</strong>: Removes any empty commits that may be created as a result of removing the file.</p></li><li><p><strong>–tag-name-filter cat</strong>: Specifies how to handle tags. In this case, it specifies that tags should be rewritten to point to the same commit as before.</p></li><li><p><strong>– –all</strong>: Specifies that all branches and tags should be rewritten.</p></li></ul><h4 id="2-Update-the-gitignore-file"><a href="#2-Update-the-gitignore-file" class="headerlink" title="2. Update the .gitignore file"></a>2. Update the .gitignore file</h4><p>add the file containing secrets into .gitignore<br>then don’t forget to clean the cache with </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">rm</span> --cached <span class="hljs-string">&quot;path to the file&quot;</span><br>git add .<br>git commit -m <span class="hljs-string">&quot;.gitignore updated&quot;</span><br></code></pre></td></tr></table></figure><h4 id="3-Push-to-Origin"><a href="#3-Push-to-Origin" class="headerlink" title="3. Push to Origin"></a>3. Push to Origin</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push --alll --force<br>git push --tags --force<br></code></pre></td></tr></table></figure><p>Done!</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Some Information about AI</title>
    <link href="/2024/09/19/Some-Information-about-AI/"/>
    <url>/2024/09/19/Some-Information-about-AI/</url>
    
    <content type="html"><![CDATA[<blockquote><p>Content is my notes based on the materials of Artifical Intelligent course teached by Dr. Meng Cheng Lau of Laurentian University.</p></blockquote><h1 id="Branches-of-AI"><a href="#Branches-of-AI" class="headerlink" title="Branches of AI"></a>Branches of AI</h1><ul><li><strong>Expert System</strong><br>  Computer system that emulate decision-making abilities of human expert in certain fields. Example: stock trading.</li><li><strong>Planning and Decision Making</strong><br>  Algorithms and techniques that allow machines to plan actions or make decision to archive specific goals. Example: Scheduling</li><li><strong>Knowledge Representation and Reasoning</strong><br>  Representing information about the world in a form that a computer system can utilize to solve complex tasks like diagnosis or problem-solving. Example: medical diagnosis</li><li><strong>Neural Networks</strong><br>  Architecture inspired by the structure and function of the brain. they consist of interconnected nodes or “neurous”</li><li><strong>Machine Learning(ML):- learn from data</strong><ol><li>Supervised Learning</li><li>Unsupervised Learning</li><li>Reinforcement Learning</li><li>Deep Learning</li></ol></li><li><strong>Natural Language Process(NLP) and Speech Recognization</strong><br>  Focus on the interaction between computers and human languages. Example: translation, sentiment analysis, and chatbots.</li><li><strong>Computer Vision</strong><br>  Give machine the ability to interpret and decide based on visual data from the world. Examples: image recognition, facial recognition, and object detection.</li><li><strong>Robotics</strong><br>  Deal with construction, operation and use of robots. AI in robotics can include perception, planning, and decision-making. Examples: Roomba, Industrial robots.</li></ul><h1 id="broad-usage-of-AI"><a href="#broad-usage-of-AI" class="headerlink" title="broad usage of AI"></a>broad usage of AI</h1><table><thead><tr><th>Area</th><th>Application</th></tr></thead><tbody><tr><td>Healthcare</td><td>Pridictive Diagnosis</td></tr><tr><td>Finance</td><td>Fraud detection</td></tr><tr><td>Entertainment</td><td>Game AI, Movie recommendations</td></tr><tr><td>Transportation</td><td>Self-Driving cars</td></tr><tr><td>Robotics</td><td>Intelligent control</td></tr><tr><td>Art and literacy</td><td>LLM, Generative AI(ChatGPT, DALL-E, etc.)</td></tr></tbody></table><h1 id="DFS-BFC-UCS-Greedy-A"><a href="#DFS-BFC-UCS-Greedy-A" class="headerlink" title="DFS, BFC, UCS, Greedy, A*"></a>DFS, BFC, UCS, Greedy, A*</h1><ul><li>When will BFS outperform DFS?<ol><li>Shallow solutions 浅层搜索</li><li>Cyclics or infinite Graphs  环或者无线图</li></ol></li><li>When will DFS outperform BFS?<ol><li>Space Constraints 存储空间约束</li><li>Need the explore the entire search space 需要查找全部空间</li></ol></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Golang read text file</title>
    <link href="/2024/09/14/Golang-read-text-file/"/>
    <url>/2024/09/14/Golang-read-text-file/</url>
    
    <content type="html"><![CDATA[<h2 id="Read-Text-File-in-Golang"><a href="#Read-Text-File-in-Golang" class="headerlink" title="Read Text File in Golang"></a>Read Text File in Golang</h2><h3 id="1-read-line-by-line"><a href="#1-read-line-by-line" class="headerlink" title="1. read line by line"></a>1. read line by line</h3><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   f, err := os.Open(<span class="hljs-string">&quot;demo.txt&quot;</span>)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      fmt.Println(<span class="hljs-string">&quot;err:&quot;</span>, err)<br>      <span class="hljs-keyword">return</span><br>   &#125;<br>   <span class="hljs-keyword">defer</span> f.Close()<br><br>   content, err := readTxt(f)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      fmt.Println(<span class="hljs-string">&quot;err:&quot;</span>, err)<br>      <span class="hljs-keyword">return</span><br>   &#125;<br>   fmt.Println(<span class="hljs-string">&quot;content:&quot;</span>, content)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">readTxt</span><span class="hljs-params">(r io.Reader)</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) &#123;<br>   reader := bufio.NewReader(r)<br><br>   l := <span class="hljs-built_in">make</span>([]<span class="hljs-type">string</span>, <span class="hljs-number">0</span>, <span class="hljs-number">64</span>)<br><br>   <span class="hljs-comment">// 按行读取</span><br>   <span class="hljs-keyword">for</span> &#123;<br>      line, _, err := reader.ReadLine()<br>      <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>         <span class="hljs-keyword">if</span> err == io.EOF &#123;<br>            <span class="hljs-keyword">break</span><br>         &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br>         &#125;<br>      &#125;<br><br>      l = <span class="hljs-built_in">append</span>(l, strings.Trim(<span class="hljs-type">string</span>(line), <span class="hljs-string">&quot; &quot;</span>))<br>   &#125;<br><br>   <span class="hljs-keyword">return</span> l, <span class="hljs-literal">nil</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-read-all-content-at-once"><a href="#2-read-all-content-at-once" class="headerlink" title="2. read all content at once"></a>2. read all content at once</h3><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>   f, err := os.Open(<span class="hljs-string">&quot;demo.txt&quot;</span>)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      fmt.Println(<span class="hljs-string">&quot;err:&quot;</span>, err)<br>      <span class="hljs-keyword">return</span><br>   &#125;<br>   <span class="hljs-keyword">defer</span> f.Close()<br><br>   content, err := readAllContent(f)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      fmt.Println(<span class="hljs-string">&quot;err:&quot;</span>, err)<br>      <span class="hljs-keyword">return</span><br>   &#125;<br>   fmt.Println(<span class="hljs-string">&quot;content:&quot;</span>, content)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">readAllContent</span><span class="hljs-params">(r io.Reader)</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) &#123;<br>   <span class="hljs-keyword">var</span> b = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-number">4096</span>)<br>   _, err := r.Read(b)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br>   &#125;<br><br>   l := strings.Split(<span class="hljs-type">string</span>(b), <span class="hljs-string">&quot;\r\n&quot;</span>)<br>   <span class="hljs-keyword">return</span> l, <span class="hljs-literal">nil</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>Go</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Graph Search DFS_BFS_UCS</title>
    <link href="/2024/09/14/Graph-Search-DFS-BFS-UCS/"/>
    <url>/2024/09/14/Graph-Search-DFS-BFS-UCS/</url>
    
    <content type="html"><![CDATA[<h1 id="Most-used-Graph-Search-methos"><a href="#Most-used-Graph-Search-methos" class="headerlink" title="Most used Graph Search methos:"></a>Most used Graph Search methos:</h1><ul><li>DFS- Depth First Search </li><li>BFS- Breedth First Search </li><li>UCS- Uninform Cost Search</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> networkx <span class="hljs-keyword">as</span> nx<br><span class="hljs-keyword">import</span> queue<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Graph</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.nodes = &#123;&#125;<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_edge</span>(<span class="hljs-params">self, start, end, cost=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-keyword">if</span> start <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.nodes:<br>            self.nodes[start] = &#123;&#125;<br>        self.nodes[start][end] = cost<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_neighbors</span>(<span class="hljs-params">self, node</span>):<br>        <span class="hljs-keyword">return</span> self.nodes.get(node,&#123;&#125;) <span class="hljs-comment">#if not exist return &#123;&#125;</span><br>    <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">graph, start, goal</span>): <span class="hljs-comment"># Depth First Search</span><br>    stack = queue.LifoQueue() <span class="hljs-comment">#Last in first out queue, stack</span><br>    stack.put((start,[start], <span class="hljs-number">0</span>)) <span class="hljs-comment"># start_node, path, cost</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> stack.empty(): <span class="hljs-comment"># stop when stack is empty</span><br>        vertex, path, cost = stack.get() <span class="hljs-comment">#pop a element from stack, node, path, cost</span><br>        <span class="hljs-comment">#sort the neighbors of the element pop from stack</span><br>        sorted_neighbors = <span class="hljs-built_in">sorted</span>(graph.get_neighbors(vertex).items(), key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">0</span>], reverse = <span class="hljs-literal">True</span>)<br>        <span class="hljs-comment">#go through the sorted neighbors of the element pop from stack</span><br>        <span class="hljs-keyword">for</span> next_node, next_cost <span class="hljs-keyword">in</span> sorted_neighbors:<br>            <span class="hljs-keyword">if</span> next_node <span class="hljs-keyword">in</span> path: <span class="hljs-comment"># if next_node is in path which mean has been went through</span><br>                <span class="hljs-keyword">continue</span> <span class="hljs-comment"># just walk through</span><br>            <span class="hljs-keyword">elif</span> next_node == goal: <span class="hljs-comment"># if the next_node == goal, return the final path and total cost</span><br>                <span class="hljs-keyword">return</span> path + [next_node], cost + next_cost<br>            <span class="hljs-keyword">else</span> : <span class="hljs-comment"># if it is not the goal node, put it into the stack waiting for check its neighbors</span><br>                stack.put((next_node, path + [next_node], cost + next_cost))<br>    <span class="hljs-comment"># stack is empty which means all elements have been went through, return None, None reprensent didn&#x27;t find the goal in graph</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>    <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bfs</span>(<span class="hljs-params">graph, start, goal</span>): <span class="hljs-comment"># Breadth First Search</span><br>    q = queue.Queue() <span class="hljs-comment"># a queue that first in and first out</span><br>    q.put((start, [start], <span class="hljs-number">0</span>)) <span class="hljs-comment">#start_node, path, cost</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> q.empty(): <span class="hljs-comment"># go through all elements in the queue</span><br>        vertex, path, cost = q.get() <span class="hljs-comment"># get an ele from the queue, node, path, cost</span><br>        sorted_neighbors = <span class="hljs-built_in">sorted</span>(graph.get_neighbors(vertex).items(), key = <span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">0</span>], reverse = <span class="hljs-literal">True</span> )<br>        <span class="hljs-keyword">for</span> next_node, next_cost <span class="hljs-keyword">in</span> sorted_neighbors:<br>            <span class="hljs-keyword">if</span> next_node <span class="hljs-keyword">in</span> path:<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">elif</span> next_node == goal:<br>                <span class="hljs-keyword">return</span> path+[next_node], cost + next_cost<br>            <span class="hljs-keyword">else</span>:<br>                q.put((next_node, path+[next_node], cost+next_cost))<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span><br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ucs</span>(<span class="hljs-params">graph, start, goal</span>): <span class="hljs-comment"># Uninform Cost Search</span><br>    pq = queue.PriorityQueue() <span class="hljs-comment"># pop the priority</span><br>    pq.put((<span class="hljs-number">0</span>, start, [start])) <span class="hljs-comment"># cost(also is priority), start_node, path</span><br>    visited = <span class="hljs-built_in">set</span>()<br>    <span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> pq.empty():<br>        cost, vertex, path = pq.get()<br>        <span class="hljs-keyword">if</span> vertex <span class="hljs-keyword">in</span> visited:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">if</span> vertex == goal:<br>            <span class="hljs-keyword">return</span>  path, cost<br>        visited.add(vertex)<br>        <span class="hljs-keyword">for</span> next_node, next_cost <span class="hljs-keyword">in</span> graph.get_neighbors(vertex).items():<br>            <span class="hljs-keyword">if</span> next_node <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> visited:<br>                pq.put((cost+next_cost, next_node, path+[next_node]))<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">visualize_graph</span>(<span class="hljs-params">graph</span>):<br>    G = nx.DiGraph() <span class="hljs-comment"># Create a directed graph 创建一个有向图</span><br>    <span class="hljs-keyword">for</span> node, neighbors <span class="hljs-keyword">in</span> graph.nodes.items():<br>        <span class="hljs-keyword">for</span> neighbor, cost <span class="hljs-keyword">in</span> neighbors.items():<br>            G.add_edge(node, neighbor, weight = cost)<br>    plt.figure(figsize = (<span class="hljs-number">3</span>,<span class="hljs-number">3</span>))<br>    pos = nx.spring_layout(G)<br>    nx.draw(G, pos, with_labels = <span class="hljs-literal">True</span>, node_size = <span class="hljs-number">500</span>, node_color = <span class="hljs-string">&quot;skyblue&quot;</span>, node_shape = <span class="hljs-string">&quot;o&quot;</span>, alpha = <span class="hljs-number">0.6</span>, linewidths =<span class="hljs-number">4</span>)<br>    labels = nx.get_edge_attributes(G, <span class="hljs-string">&#x27;weight&#x27;</span>)<br>    nx.draw_networkx_edge_labels(G, pos, edge_labels = labels)<br>    plt.show()<br><br>graph = Graph()<br>graph.add_edge(<span class="hljs-string">&#x27;S&#x27;</span>,<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-number">1</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;S&#x27;</span>,<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-number">3</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;C&#x27;</span>,<span class="hljs-number">1</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;D&#x27;</span>,<span class="hljs-number">1</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;C&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>,<span class="hljs-number">5</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;D&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>,<span class="hljs-number">2</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>,<span class="hljs-number">2</span>)<br>graph.add_edge(<span class="hljs-string">&#x27;B&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>,<span class="hljs-number">5</span>)<br><br><br><br>path, cost = dfs(graph, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;DFS path: <span class="hljs-subst">&#123;path&#125;</span>, cost: <span class="hljs-subst">&#123;cost&#125;</span>&quot;</span>)<br><br>path, cost = bfs(graph, <span class="hljs-string">&#x27;S&#x27;</span>, <span class="hljs-string">&#x27;G&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;BFS path: <span class="hljs-subst">&#123;path&#125;</span>, cost: <span class="hljs-subst">&#123;cost&#125;</span>&quot;</span>)<br><br>path, cost = ucs(graph, <span class="hljs-string">&#x27;S&#x27;</span>,<span class="hljs-string">&#x27;G&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;UCS path: <span class="hljs-subst">&#123;path&#125;</span>, cost: <span class="hljs-subst">&#123;cost&#125;</span>&quot;</span>)<br><br><br>visualize_graph(graph)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CentOS7 firewall and system service operations</title>
    <link href="/2024/07/24/CentOS7-firewall-and-system-service-operations/"/>
    <url>/2024/07/24/CentOS7-firewall-and-system-service-operations/</url>
    
    <content type="html"><![CDATA[<h1 id="Firewall"><a href="#Firewall" class="headerlink" title="Firewall"></a>Firewall</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">firewall-cmd --state  <span class="hljs-comment">#check the firewall on centos 7 running state:</span><br><br>systemctl stop firewalld.service <span class="hljs-comment">#Stop the firewall </span><br><br>systemctl <span class="hljs-built_in">disable</span> firewalld.service  <span class="hljs-comment">#disable the auto-startup of firewall </span><br><br>firewall-cmd --zone=public --list-ports <span class="hljs-comment"># list all open ports</span><br><br></code></pre></td></tr></table></figure><p>more operations on centos 7 firewall:<br><a href="https://www.cnblogs.com/heqiuyong/p/10460150.html">https://www.cnblogs.com/heqiuyong/p/10460150.html</a></p><h1 id="System-service"><a href="#System-service" class="headerlink" title="System service"></a>System service</h1><p>create service config file.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /etc/systemd/system<br>vim subtitlex.service<br></code></pre></td></tr></table></figure><p>edit below 2 files<br>.&#x2F;subtitlex.service</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[Unit]</span><br><span class="hljs-attr">Description</span>=SubtitleX<br><span class="hljs-attr">After</span>=network.target<br><span class="hljs-section">[Service]</span><br><span class="hljs-attr">ExecStart</span>=/root/subtitlex/sh/start_goapi.sh<br><span class="hljs-section">[Install]</span><br><span class="hljs-attr">WantedBy</span>=default.target<br></code></pre></td></tr></table></figure><p>&#x2F;root&#x2F;subtitlex&#x2F;sh&#x2F;start_goapi.sh</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /home/elvin/subtitlex/goapi/<br>./goapi<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;goapi started&quot;</span><br></code></pre></td></tr></table></figure><p>Continue to enable and start the service</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs base">systemctl enable subtitlex.service<br>systemctl start subtitlex.service<br>systemctl status subtitlex.service<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>SubtitleX v1.0 White Paper</title>
    <link href="/2024/06/25/SubtitleX-v1-0-White-Paper/"/>
    <url>/2024/06/25/SubtitleX-v1-0-White-Paper/</url>
    
    <content type="html"><![CDATA[<img src="/2024/06/25/SubtitleX-v1-0-White-Paper/promption-1400X560.png" class="" title="SubtitleX"><h1 id="SubtitleX-v1-0-White-Paper"><a href="#SubtitleX-v1-0-White-Paper" class="headerlink" title="SubtitleX v1.0 White Paper"></a>SubtitleX v1.0 White Paper</h1><h2 id="Product-Description"><a href="#Product-Description" class="headerlink" title="Product Description"></a>Product Description</h2><ol><li><strong>Subtitle auto-load with Chrome Extension</strong>: Automatically loads subtitles for collected online videos via a <a href="">Chrome browser extension</a>.</li><li><strong>Subtitle Library Search</strong>: Allows searching a library of subtitles for over 30,000 online videos via a <a href="">web application</a>.</li><li><strong>Subtitle Generation</strong>: Generates subtitles for uncollected videos using the Fast-Whisper v3 large model, and translates them into various languages using the Google Translate API.</li><li><strong>Seed Video Crawling</strong>: Seed videos collection via Python+Selenium+BeautifulSoup, to crawling target website getting potential content with ETL then generate the subtitle utilize AI power.</li></ol><h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><ol><li><strong><a href="https://chromewebstore.google.com/detail/subtitlex/jleagfpeiplocfdkajcpgcadnpipmkcl">Chrome Extension</a></strong> <a href="https://github.com/zw3413/subtitles/tree/main/SubtitleX">github repository</a></li><li><strong><a href="https://www.subtitlex.xyz/">Web Application</a></strong> <a href="https://github.com/zw3413/subtitlex_vercel">github repository</a></li><li><strong><a href="https://www.subtitlex.xyz/Member">Subscription System</a></strong></li><li><strong>Crawling Tool</strong> and <strong>Download-Transcribe-Translate Tool</strong> <a href="https://github.com/zw3413/subtitles/tree/main/pytool">github repository</a></li><li><strong>Service API build with Golang</strong>  <a href="https://github.com/zw3413/subtitles/tree/main/goapi">github repository</a></li></ol><h2 id="Technology-Stack"><a href="#Technology-Stack" class="headerlink" title="Technology Stack"></a>Technology Stack</h2><h3 id="Front-End"><a href="#Front-End" class="headerlink" title="Front End"></a>Front End</h3><ul><li>React</li><li>Next.js, Prisma, Next-Auth</li><li>Chrome Extension</li><li>TailwindCSS, Material-UI</li></ul><h3 id="Back-End"><a href="#Back-End" class="headerlink" title="Back End"></a>Back End</h3><ul><li>Golang (Gin)</li></ul><h3 id="Database"><a href="#Database" class="headerlink" title="Database"></a>Database</h3><ul><li>PostgreSQL</li><li>TSDB</li><li>Redis</li></ul><h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a>Utility</h3><ul><li><strong>Crawling</strong>: BeautifulSoup4, Selenium</li><li>Streaming Download: Stream-Link</li><li>STT: Faster-Whisper</li></ul><h2 id="Resources-Used"><a href="#Resources-Used" class="headerlink" title="Resources Used"></a>Resources Used</h2><ol><li><strong>Web Application</strong>: Vercel, Supabase</li><li><strong>Server</strong>: Self-hosted (4 cores, x86 with RedHat)</li><li><strong>Connection</strong>: Cloudflare DNS and Zero Trust Tunnel</li><li><strong>API</strong>: Google Translate API</li><li><strong>Icons</strong>: <ul><li><a href="https://icon.ray.so/">icon.ray.so</a></li><li><a href="https://icons8.com/">icons8.com</a></li></ul></li><li><strong>Free GPU</strong>: Google Colab</li><li><strong>Payment</strong>: Stripe</li></ol><h3 id="Programming-and-Testing"><a href="#Programming-and-Testing" class="headerlink" title="Programming and Testing"></a>Programming and Testing</h3><ul><li><strong>Laptop</strong>: ThinkPad T14 with Ryzen 5 4650U, 12 cores with built-in GPU, 32GB RAM</li><li><strong>Desktop Workstation</strong>: Ryzen 5 5600, 12 cores with RTX 2060 Super GPU, 16GB RAM</li></ul><h2 id="Promotion"><a href="#Promotion" class="headerlink" title="Promotion"></a>Promotion</h2><ol><li>Google Search</li><li><a href="https://x.com/subtitlex_xyz">Twitter</a></li></ol><h2 id="Attention-Please"><a href="#Attention-Please" class="headerlink" title="Attention Please"></a>Attention Please</h2><ol><li>This tool is designed to work with a variety of online streaming websites. However, some content in the library is adapted for websites that contain mature content, so this tool may include links to adult content websites.</li><li>All functions are built using open technology and open-source programs. The copyright of content on third-party websites is not accounted for.</li></ol><h2 id="Source-Code"><a href="#Source-Code" class="headerlink" title="Source Code"></a>Source Code</h2><ul><li>Web application: <a href="https://github.com/zw3413/subtitlex_vercel">https://github.com/zw3413/subtitlex_vercel</a></li><li>Backend API &#x2F; Scrawling &#x2F; STT :  <a href="https://github.com/zw3413/subtitles">https://github.com/zw3413/subtitles</a></li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Powershell script to detect connected IP on a router</title>
    <link href="/2024/01/25/Powershell-script-to-detect-connected-IP-on-a-router/"/>
    <url>/2024/01/25/Powershell-script-to-detect-connected-IP-on-a-router/</url>
    
    <content type="html"><![CDATA[<p>I want to know the IP of a computer without a display which connected to a router, use below powershell script to detect. I don’t have the admin access of the router.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">for ($i=1; $i -lt 255; $i++) &#123;<br>    $computer = &#x27;192.168.1.&#x27; + $i<br>    if (Test-Connection -ComputerName $computer -Count 1 -Quiet) &#123;<br>        Write-Host &quot;$computer is online.&quot;<br>    &#125; else &#123;<br>        Write-Host &quot;$computer&quot; <br>    &#125;<br> &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>powershell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Access webservice running in wsl2 with mirrored networkingmode</title>
    <link href="/2024/01/19/Access-webservice-running-in-wsl2-with-mirrored-networkingmode/"/>
    <url>/2024/01/19/Access-webservice-running-in-wsl2-with-mirrored-networkingmode/</url>
    
    <content type="html"><![CDATA[<p>As I have VPN run on windows11, when I launch the WSL2, always prompt the tip about the autoproxy not working for my VPN.</p><p>Then I did the configuration for WSL which to put the .wslconfig in to my user root with below content:</p><p>[experimental]<br>autoMemoryReclaim&#x3D;gradual  # gradual  | dropcache | disabled<br>networkingMode&#x3D;mirrored<br>dnsTunneling&#x3D;true<br>firewall&#x3D;false<br>autoProxy&#x3D;true</p><p>Above setting let the WSL2 running on mirrored networking mode with share same ip address with the host windows.</p><p>But problem is I can not access the go api which run in the WSL2 Ubuntu via LAN. To resolve this issue, the information in this page is helpful:</p><p><a href="https://github.com/microsoft/WSL/issues/10714">https://github.com/microsoft/WSL/issues/10714</a></p><p>Run below command </p><p>New-NetFirewallHyperVRule -DisplayName “allow port 3001 inbound” -Direction Inbound -LocalPorts 3001 -Action Allow</p><p>on the windows host to permit the port you want to visit from LAN.</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>C# Winform Code Snippet</title>
    <link href="/2023/12/01/C-Winform-Code-Snippet/"/>
    <url>/2023/12/01/C-Winform-Code-Snippet/</url>
    
    <content type="html"><![CDATA[<p>As daily develop in C# .Net, I collected some of useful code snippet, including some tricky and system call. And this code snippet list will grow as long as further collecting.</p><h1 id="1-Get-the-local-IP-and-MAC"><a href="#1-Get-the-local-IP-and-MAC" class="headerlink" title="1 Get the local IP and MAC"></a>1 Get the local IP and MAC</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Net; <br><span class="hljs-keyword">using</span> System.Net.NetworkInformation;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetLocalIp</span>()</span><br>&#123;<br>    <span class="hljs-built_in">string</span> hostname = Dns.GetHostName();<br>    IPHostEntry localhost = Dns.GetHostByName(hostname);<br>    <span class="hljs-keyword">if</span> (localhost.AddressList == <span class="hljs-literal">null</span> || localhost.AddressList.Length&lt;=<span class="hljs-number">0</span>) <br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>    IPAddress localaddr = localhost.AddressList.Where(p=&gt;p.ToStr().StartsWith(<span class="hljs-string">&quot;10.&quot;</span>)).FirstOrDefault() ;<br>    <span class="hljs-keyword">return</span> localaddr == <span class="hljs-literal">null</span> ? localhost.AddressList[<span class="hljs-number">0</span>].ToStr() : localaddr.ToStr();<br>&#125;<br> <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMacString</span>()</span><br>        &#123;<br>            <span class="hljs-built_in">string</span> strMac = <span class="hljs-string">&quot;&quot;</span>;<br>            NetworkInterface[] interfaces = NetworkInterface.GetAllNetworkInterfaces();<br>            <span class="hljs-keyword">foreach</span> (NetworkInterface ni <span class="hljs-keyword">in</span> interfaces)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (ni.OperationalStatus == OperationalStatus.Up)<br>                &#123;<br>                    PhysicalAddress address = ni.GetPhysicalAddress();<br>                    <span class="hljs-built_in">byte</span>[] bytes = address.GetAddressBytes();<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; bytes.Length; i++)<br>                    &#123;<br>                        strMac = strMac + bytes[i].ToString(<span class="hljs-string">&quot;X2&quot;</span>);<br>                        <span class="hljs-keyword">if</span> (i != bytes.Length - <span class="hljs-number">1</span>)<br>                        &#123;<br>                            strMac = strMac + <span class="hljs-string">&quot;-&quot;</span>;<br>                        &#125;<br>                    &#125;<br><br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> strMac;<br>        &#125;<br></code></pre></td></tr></table></figure><h1 id="2-Open-x2F-Close-Soft-Keyboard"><a href="#2-Open-x2F-Close-Soft-Keyboard" class="headerlink" title="2 Open&#x2F;Close Soft Keyboard"></a>2 Open&#x2F;Close Soft Keyboard</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Diagnostics;<br><span class="hljs-keyword">using</span> System.IO;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> UseSoftKeyBoard = <span class="hljs-literal">false</span>;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OpenKeyBord</span>()</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (!UseSoftKeyBoard)<br>    &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">try</span><br>    &#123;<br>        <span class="hljs-built_in">bool</span> findKeyBord = <span class="hljs-literal">false</span>;<br>        <span class="hljs-built_in">string</span> file = <span class="hljs-built_in">string</span>.Empty;<br>        <span class="hljs-built_in">string</span> file1 = <span class="hljs-string">&quot;C:\\Program Files\\Common Files\\microsoft shared\\ink\\TabTip.exe&quot;</span>;<br>        <span class="hljs-built_in">string</span> file2 = <span class="hljs-string">&quot;C:\\Windows\\System32\\osk.exe&quot;</span>;<br><br>        <span class="hljs-keyword">if</span> (System.IO.File.Exists(file1))<br>        &#123;<br>            findKeyBord = <span class="hljs-literal">true</span>;<br>            file = file1;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!findKeyBord)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (System.IO.File.Exists(file2))<br>            &#123;<br>                findKeyBord = <span class="hljs-literal">true</span>;<br>                file = file2;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">string</span>.IsNullOrEmpty(file))<br>        &#123;<br>            Process.Start(file);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">catch</span> (System.Exception ex)<br>    &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CloseKeyBord</span>()</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (!UseSoftKeyBoard)<br>            &#123;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>            <span class="hljs-keyword">try</span><br>            &#123;<br>                Process[] processes = Process.GetProcesses();<br>                <span class="hljs-keyword">foreach</span> (Process process <span class="hljs-keyword">in</span> processes)<br>                &#123;<br>                    <span class="hljs-keyword">if</span> (process.ProcessName.Equals(<span class="hljs-string">&quot;TabTip&quot;</span>)<br>                            || process.ProcessName.Equals(<span class="hljs-string">&quot;osk&quot;</span>))<br>                    &#123;<br>                        <span class="hljs-keyword">if</span> (!process.CloseMainWindow())<br>                        &#123;<br>                            process.Kill();<br>                            GC.Collect();<br>                        &#125;<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">catch</span> (System.Exception ex)<br>            &#123;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br></code></pre></td></tr></table></figure><h1 id="3-Hold-and-Move-the-Window"><a href="#3-Hold-and-Move-the-Window" class="headerlink" title="3 Hold and Move the Window"></a>3 Hold and Move the Window</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Windows.Forms;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Boolean isMouseDown;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Point mouseStartPoint = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Point formStartPosition = <span class="hljs-keyword">new</span> Point(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MouseDown</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, MouseEventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (e.Button == MouseButtons.Left)<br>    &#123;<br>        <span class="hljs-keyword">try</span><br>        &#123;<br>            formStartPosition = (((Control)sender).TopLevelControl).Location;<br>        &#125;<br>        <span class="hljs-keyword">catch</span><br>        &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        isMouseDown = <span class="hljs-literal">true</span>;<br>        mouseStartPoint.X = Control.MousePosition.X;<br>        mouseStartPoint.Y = Control.MousePosition.Y;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MouseUp</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, MouseEventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (e.Button == MouseButtons.Left)<br>    &#123;<br>        isMouseDown = <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MouseMove</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, MouseEventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (isMouseDown)<br>    &#123;<br>        Point mouseNowPoint = Control.MousePosition;<br>        Point formNowPosition = <span class="hljs-keyword">new</span> Point(formStartPosition.X + mouseNowPoint.X - mouseStartPoint.X, formStartPosition.Y + mouseNowPoint.Y - mouseStartPoint.Y);<br>        (((Control)sender).TopLevelControl).Location = formNowPosition;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//register the event on the form</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Form_Load</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span><br>&#123;<br>    <span class="hljs-keyword">this</span>.MouseDown += <span class="hljs-keyword">new</span> MouseEventHandler(SFC.Common.Common.MouseDown);<br>    <span class="hljs-keyword">this</span>.MouseUp += <span class="hljs-keyword">new</span> MouseEventHandler(SFC.Common.Common.MouseUp);<br>    <span class="hljs-keyword">this</span>.MouseMove += <span class="hljs-keyword">new</span> MouseEventHandler(SFC.Common.Common.MouseMove);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="4-Read-XML"><a href="#4-Read-XML" class="headerlink" title="4 Read XML"></a>4 Read XML</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Xml<br><br>XmlDocument docxml = <span class="hljs-keyword">new</span> XmlDocument();<br>XmlReaderSettings settings = <span class="hljs-keyword">new</span> XmlReaderSettings();<br>settings.IgnoreComments = <span class="hljs-literal">true</span>;<span class="hljs-comment">//ignore comments</span><br>XmlReader reader = XmlReader.Create(Path, settings);<br>docxml.Load(reader);<br>reader.Close();<br><span class="hljs-comment">//XmlNode xn = docxml.GetElementsByTagName(NodeName);</span><br>XmlNodeList xnl = docxml.GetElementsByTagName(NodeName);<br>            <br></code></pre></td></tr></table></figure><h1 id="5-Switch-Bwtween-Forms"><a href="#5-Switch-Bwtween-Forms" class="headerlink" title="5 Switch Bwtween Forms"></a>5 Switch Bwtween Forms</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span><br>    &#123;<br>        Form1 form1 = <span class="hljs-keyword">new</span> Form1();<br>        <span class="hljs-keyword">if</span> (form1.ShowDialog() == DialogResult.OK)<br>        &#123;<br>            Application.Run(<span class="hljs-keyword">new</span> Form2());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6-Use-TableLayoutPanel-to-Switch-between-UIs"><a href="#6-Use-TableLayoutPanel-to-Switch-between-UIs" class="headerlink" title="6 Use TableLayoutPanel to Switch between UIs"></a>6 Use TableLayoutPanel to Switch between UIs</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowUI</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> tag</span>)</span><br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; tableLayoutPanel1.ColumnCount; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (i == tag)<br>        &#123;<br>            tableLayoutPanel1.ColumnStyles[i].SizeType = SizeType.Percent;<br>            tableLayoutPanel1.ColumnStyles[i].Width = <span class="hljs-number">100</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            tableLayoutPanel1.ColumnStyles[i].SizeType = SizeType.Absolute;<br>            tableLayoutPanel1.ColumnStyles[i].Width = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br> <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Form_Load</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span><br> &#123;<br>    ShowUI(<span class="hljs-number">0</span>) <span class="hljs-comment">//show the column1 or column2 of tableLayoutPanel1</span><br> &#125;<br></code></pre></td></tr></table></figure><h1 id="7-Only-one-running-instace"><a href="#7-Only-one-running-instace" class="headerlink" title="7 Only one running instace"></a>7 Only one running instace</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Diagnostics;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">checkMultiOpen</span>()</span><br>&#123;<br>    Process currentProcess = Process.GetCurrentProcess();<br>    Process[] processesByName = Process.GetProcessesByName(currentProcess.ProcessName);<br>    <span class="hljs-keyword">if</span> (processesByName.Count() &gt; <span class="hljs-number">1</span>)<br>    &#123;<br>        MessageBox.Show(<span class="hljs-string">&quot;Only one instance is allowed.&quot;</span>);<br>        Application.Exit();<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="8-Show-a-Clock-on-UI"><a href="#8-Show-a-Clock-on-UI" class="headerlink" title="8 Show a Clock on UI"></a>8 Show a Clock on UI</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ShowClock</span>()</span><br>&#123;<br>    _clock_change = <span class="hljs-keyword">new</span> System.Threading.Timer(_ =&gt; UIInvoke(lab_time_clock, () =&gt;<br>    &#123;<br>        lab_time_clock.Text = DateTime.Now.ToString(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>        <span class="hljs-keyword">var</span> i_mod_value = DateTime.Now.Ticks % <span class="hljs-number">1000</span>;<br>        <span class="hljs-keyword">if</span> (i_mod_value == <span class="hljs-number">0</span>)<br>        &#123;<br>            ClearMemory();<br>        &#125;<br>    &#125;));<br>    _clock_change.Change(<span class="hljs-number">0</span>, <span class="hljs-number">1000</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="9-Clear-Memory-and-Interoperating-with-Unmanaged-Code"><a href="#9-Clear-Memory-and-Interoperating-with-Unmanaged-Code" class="headerlink" title="9 Clear Memory and Interoperating with Unmanaged Code"></a>9 Clear Memory and Interoperating with Unmanaged Code</h1><p> Code that executes under the control of the runtime is called managed code. In contrast, code that runs outside the runtime is called unmanaged code. COM components, ActiveX interfaces, and Win32 API functions are all examples of unmanaged code.<br> Managed code is the one that is executed by the CLR of the . NET framework while unmanaged or unsafe code is executed by the operating system.<br><a href="https://learn.microsoft.com/en-us/dotnet/framework/interop/">https://learn.microsoft.com/en-us/dotnet/framework/interop/</a><br><a href="https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.dllimportattribute?view=net-8.0&amp;redirectedfrom=MSDN">https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.dllimportattribute?view=net-8.0&amp;redirectedfrom=MSDN</a></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-keyword">using</span> System.Runtime.InteropServices;<br><br>...<br><br>[<span class="hljs-meta">DllImport(<span class="hljs-string">&quot;kernel32.dll&quot;</span>, EntryPoint = <span class="hljs-string">&quot;SetProcessWorkingSetSize&quot;</span>)</span>]<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">extern</span> <span class="hljs-built_in">int</span> <span class="hljs-title">SetProcessWorkingSetSize</span>(<span class="hljs-params">IntPtr process, <span class="hljs-built_in">int</span> minSize, <span class="hljs-built_in">int</span> maxSize</span>)</span>;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ClearMemory</span>()</span><br>&#123;<br>    GC.Collect();<br>    GC.WaitForPendingFinalizers();<br>    <span class="hljs-keyword">if</span> (Environment.OSVersion.Platform == PlatformID.Win32NT)<br>    &#123;<br>        SetProcessWorkingSetSize(System.Diagnostics.Process.GetCurrentProcess().Handle, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>);<span class="hljs-comment">//the function removes as many pages as possible from the working set of the specified process.</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>below is a comment on the using of “SetProcessWorkingSetSize”, which demonstrates that this function is useful in two situation:</p><ol><li>An application with GUI, this function could be execute after the application initialized.</li><li>You want your application to run in swap pages, and occupy less memory.</li></ol><blockquote><p>We have found out that, for a GUI application written in Delphi for Win32&#x2F;Win64 or written in a similar way that uses large and heavy libraries on top of the Win32 API (GDI, etc), it is worth calling SetProcessWorkingSetSize once. </p><p>We call it with (… -1, -1) parameters, within a fraction of second after the application has fully opened and showed the main window to the user. In this case, the SetProcessWorkingSetSize(… -1, -1) releases lots of startup code that seem to not be needed any more. The memory quickly restores to about 1&#x2F;3 of what it would have been without the SetProcessWorkingSetSize(… -1, -1), and does not grow more since then (unless the application allocates more memory). So we have effectively saved 2&#x2F;3 of the memory of mostly startup code (loading and parsing of configuration files, initializing GUI, etc) that would not be needed to continue running the application.</p><p>If you have a GUI application, you may test on your own application the same way - just call SetProcessWorkingSetSize once and see how many memory have been released definitely.</p><p>Even for a server (service) application that don’t have GUI - I think that calling SetProcessWorkingSetSize once after the server has fully loaded and initialized might have been useful.</p></blockquote><h1 id="10-check-if-a-character-is-a-digit"><a href="#10-check-if-a-character-is-a-digit" class="headerlink" title="10 check if a character is a digit"></a>10 check if a character is a digit</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c#"><span class="hljs-comment">// use system</span><br><span class="hljs-keyword">using</span> System;<br><span class="hljs-comment">// create class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title">DigitChecker</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span><br>    &#123;<br>      <span class="hljs-comment">// create characters</span><br>      <span class="hljs-built_in">char</span> char1 = <span class="hljs-string">&#x27;5&#x27;</span>;<br>      <span class="hljs-built_in">char</span> char2 = <span class="hljs-string">&#x27;p&#x27;</span>;<br><br>      <span class="hljs-comment">// create strings</span><br>      <span class="hljs-built_in">string</span> str1 = <span class="hljs-string">&quot;1234&quot;</span>;<br>      <span class="hljs-built_in">string</span> str2 = <span class="hljs-string">&quot;hi&quot;</span>;<br><br>      <span class="hljs-comment">// check characters</span><br>      <span class="hljs-built_in">bool</span> a = Char.IsDigit(char1);<br>      <span class="hljs-built_in">bool</span> b = Char.IsDigit(char2);<br>      <span class="hljs-built_in">bool</span> c = Char.IsDigit(str1, <span class="hljs-number">2</span>);   <span class="hljs-comment">// position 3</span><br>      <span class="hljs-built_in">bool</span> d = Char.IsDigit(str2, <span class="hljs-number">0</span>);    <span class="hljs-comment">// position 1</span><br><br>      <span class="hljs-comment">// print out returned values</span><br>      System.Console.WriteLine(a);<br>      System.Console.WriteLine(b);<br>      System.Console.WriteLine(c);<br>      System.Console.WriteLine(d);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>C#</tag>
      
      <tag>.Net</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The Way to Use Proxy for Discord</title>
    <link href="/2023/11/26/The-Way-to-Use-Proxy-for-Discord/"/>
    <url>/2023/11/26/The-Way-to-Use-Proxy-for-Discord/</url>
    
    <content type="html"><![CDATA[<p>Two steps could bring proxy to Discord on Windows.</p><ol><li>Find the shortcut of Discord shorcut, write click and select the Property, add “–a&#x3D;–proxy-server&#x3D;<a href="http://127.0.0.1:7890&quot;">http://127.0.0.1:7890&quot;</a> to the end of Target content.</li><li>Find the Update.exe in Discord working path, add file of Update.exe.config with below content:<?xml version="1.0" encoding="utf-8"?><configuration><configSections></configSections><system.net><!--Configure fiddler local proxy--><defaultProxy><proxy autoDetect="false" bypassonlocal="false" proxyaddress="http://127.0.0.1:7890" usesystemdefault="false" /></defaultProxy></system.net></configuration></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Discord</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Disk usage monitoring for PostgreSQL</title>
    <link href="/2023/11/11/Disk-usage-monitoring-for-PostgreSQL/"/>
    <url>/2023/11/11/Disk-usage-monitoring-for-PostgreSQL/</url>
    
    <content type="html"><![CDATA[<p>We normally need the info of postgresql to monitor the disk usage, that to ensure the server running properly, also avoid the risk of disk space use out.<br>There are below SQL for this purpose, to check space of every table occupy, and to do further operation to deal the large table. </p><h1 id="By-table-check-the-disk-usage"><a href="#By-table-check-the-disk-usage" class="headerlink" title="By table check the disk usage"></a>By table check the disk usage</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">WITH</span> <span class="hljs-keyword">RECURSIVE</span> pg_inherit(inhrelid, inhparent) <span class="hljs-keyword">AS</span><br>    (<span class="hljs-keyword">select</span> inhrelid, inhparent<br>    <span class="hljs-keyword">FROM</span> pg_inherits<br>    <span class="hljs-keyword">UNION</span><br>    <span class="hljs-keyword">SELECT</span> child.inhrelid, parent.inhparent<br>    <span class="hljs-keyword">FROM</span> pg_inherit child, pg_inherits parent<br>    <span class="hljs-keyword">WHERE</span> child.inhparent <span class="hljs-operator">=</span> parent.inhrelid),<br>pg_inherit_short <span class="hljs-keyword">AS</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> pg_inherit <span class="hljs-keyword">WHERE</span> inhparent <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> inhrelid <span class="hljs-keyword">FROM</span> pg_inherit))<br><span class="hljs-keyword">SELECT</span> table_schema<br>    , TABLE_NAME<br>    , row_estimate<br>    , pg_size_pretty(total_bytes) <span class="hljs-keyword">AS</span> total<br>    , pg_size_pretty(index_bytes) <span class="hljs-keyword">AS</span> INDEX<br>    , pg_size_pretty(toast_bytes) <span class="hljs-keyword">AS</span> toast<br>    , pg_size_pretty(table_bytes) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">TABLE</span><br>    , total_bytes::float8 <span class="hljs-operator">/</span> <span class="hljs-built_in">sum</span>(total_bytes) <span class="hljs-keyword">OVER</span> () <span class="hljs-keyword">AS</span> total_size_share<br>  <span class="hljs-keyword">FROM</span> (<br>    <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>, total_bytes<span class="hljs-operator">-</span>index_bytes<span class="hljs-operator">-</span><span class="hljs-built_in">COALESCE</span>(toast_bytes,<span class="hljs-number">0</span>) <span class="hljs-keyword">AS</span> table_bytes<br>    <span class="hljs-keyword">FROM</span> (<br>         <span class="hljs-keyword">SELECT</span> c.oid<br>              , nspname <span class="hljs-keyword">AS</span> table_schema<br>              , relname <span class="hljs-keyword">AS</span> TABLE_NAME<br>              , <span class="hljs-built_in">SUM</span>(c.reltuples) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">partition</span> <span class="hljs-keyword">BY</span> parent) <span class="hljs-keyword">AS</span> row_estimate<br>              , <span class="hljs-built_in">SUM</span>(pg_total_relation_size(c.oid)) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">partition</span> <span class="hljs-keyword">BY</span> parent) <span class="hljs-keyword">AS</span> total_bytes<br>              , <span class="hljs-built_in">SUM</span>(pg_indexes_size(c.oid)) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">partition</span> <span class="hljs-keyword">BY</span> parent) <span class="hljs-keyword">AS</span> index_bytes<br>              , <span class="hljs-built_in">SUM</span>(pg_total_relation_size(reltoastrelid)) <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">partition</span> <span class="hljs-keyword">BY</span> parent) <span class="hljs-keyword">AS</span> toast_bytes<br>              , parent<br>          <span class="hljs-keyword">FROM</span> (<br>                <span class="hljs-keyword">SELECT</span> pg_class.oid<br>                    , reltuples<br>                    , relname<br>                    , relnamespace<br>                    , pg_class.reltoastrelid<br>                    , <span class="hljs-built_in">COALESCE</span>(inhparent, pg_class.oid) parent<br>                <span class="hljs-keyword">FROM</span> pg_class<br>                    <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> pg_inherit_short <span class="hljs-keyword">ON</span> inhrelid <span class="hljs-operator">=</span> oid<br>                <span class="hljs-keyword">WHERE</span> relkind <span class="hljs-keyword">IN</span> (<span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>)<br>             ) c<br>             <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> pg_namespace n <span class="hljs-keyword">ON</span> n.oid <span class="hljs-operator">=</span> c.relnamespace<br>  ) a<br>  <span class="hljs-keyword">WHERE</span> oid <span class="hljs-operator">=</span> parent<br>) a<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> total_bytes <span class="hljs-keyword">DESC</span>;<br></code></pre></td></tr></table></figure><p>reference: <a href="https://wiki.postgresql.org/wiki/Disk_Usage">https://wiki.postgresql.org/wiki/Disk_Usage</a></p>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Why a text_pattern_ops index is necessary for a text column in PostgreSQL</title>
    <link href="/2023/11/11/Why-a-text-pattern-ops-index-is-necessary-for-a-text-column-in-PostgreSQL/"/>
    <url>/2023/11/11/Why-a-text-pattern-ops-index-is-necessary-for-a-text-column-in-PostgreSQL/</url>
    
    <content type="html"><![CDATA[<h1 id="1-What-C-Locale-stands-for"><a href="#1-What-C-Locale-stands-for" class="headerlink" title="1. What C Locale stands for?"></a>1. What C Locale stands for?</h1><p>Each locale specifies conventions for several purposes, including the following:</p><ul><li>What multibyte character sequences are valid, and how they are interpreted (see Character Set Handling).</li><li>Classification of which characters in the local character set are considered alphabetic, and upper- and lower-case conversion conventions (see Character Handling).</li><li>The collating sequence for the local language and character set (see Collation Functions).</li><li>Formatting of numbers and currency amounts (see Generic Numeric Formatting Parameters).</li><li>Formatting of dates and times (see Formatting Calendar Time).</li><li>What language to use for output, including error messages (see Message Translation).</li><li>What language to use for user answers to yes-or-no questions (see Yes-or-No Questions).</li><li>What language to use for more complex user input. (The C library doesn’t yet help you implement this.)<br>c locale also name as POSIX locale is a default locale for most operating system.</li></ul><p>reference: <a href="https://www.gnu.org/software/libc/manual/html_node/Locales.html">https://www.gnu.org/software/libc/manual/html_node/Locales.html</a></p><h1 id="2-What-is-the-useful-of-a-text-pattern-ops-index-for-a-text-or-varchar-column"><a href="#2-What-is-the-useful-of-a-text-pattern-ops-index-for-a-text-or-varchar-column" class="headerlink" title="2. What is the useful of a text_pattern_ops index for a text or varchar column?"></a>2. What is the useful of a text_pattern_ops index for a text or varchar column?</h1><p>With the sql </p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">show</span> lc_collate;<br></code></pre></td></tr></table></figure><p>you could check the locale of your postgresql database, the query result on my database is ‘en_US.UTF-8’ which is not a c locale.<br>In this situation, you may need a text_pattern_ops index for text column, same as varchar, char, name data type.<br>The reason is, if your database not with c locale, the default operation class for index of text, varchar, char, name types will not support LIKE and POSIX regular expression.<br>You need to create a special index with text_pattern_ops or varchar_pattern_ops to support the ‘like’ query.<br>At the same time, default operator class of text_ops is still necessary to support the &gt; &lt; &gt;&#x3D; &lt;&#x3D; operator and also the “order by”.</p><p>On the other side, if your database is with c locale, the text_pattern_ops index is not necessary, as the default operator class of text_ops is already support the ‘like’ and POSIX regular expression under c locale.</p><p>reference:<br><a href="http://gitbook.net/manual/postgresql/indexes-opclass.html">http://gitbook.net/manual/postgresql/indexes-opclass.html</a><br><a href="https://www.cybertec-postgresql.com/en/indexing-like-postgresql-oracle/">https://www.cybertec-postgresql.com/en/indexing-like-postgresql-oracle/</a></p>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>5 I/O model in network programming</title>
    <link href="/2023/07/26/5-I-O-model-in-network-programming/"/>
    <url>/2023/07/26/5-I-O-model-in-network-programming/</url>
    
    <content type="html"><![CDATA[<p>There are 2 main periods in a networking call:</p><ol><li>check if the data ready in kernel space</li><li>copy data from kernel space to user space (the system function: revcfrom)</li></ol><p>Linux provides 5 network programming I&#x2F;O models</p><ol><li>Blocking I&#x2F;O</li><li>Non-Blocking I&#x2F;O</li><li>I&#x2F;O multiplexing (select, poll and epoll)</li><li>Signal Driven I&#x2F;O</li><li>Asynchronous I&#x2F;O (aio_* functions)</li></ol><h1 id="1-Blocking-I-x2F-O"><a href="#1-Blocking-I-x2F-O" class="headerlink" title="1. Blocking I&#x2F;O"></a>1. Blocking I&#x2F;O</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/bio.png" class="" title="BIO"><h1 id="2-Non-Blocking-I-x2F-O"><a href="#2-Non-Blocking-I-x2F-O" class="headerlink" title="2. Non-Blocking I&#x2F;O"></a>2. Non-Blocking I&#x2F;O</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/nio.png" class="" title="NIO"><h1 id="3-I-x2F-O-multiplexing-select-poll-and-epoll"><a href="#3-I-x2F-O-multiplexing-select-poll-and-epoll" class="headerlink" title="3. I&#x2F;O multiplexing (select, poll and epoll)"></a>3. I&#x2F;O multiplexing (select, poll and epoll)</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/iomultiplexing.png" class="" title="IO Multiplexing"><h1 id="4-Signal-Driven-I-x2F-O"><a href="#4-Signal-Driven-I-x2F-O" class="headerlink" title="4. Signal Driven I&#x2F;O"></a>4. Signal Driven I&#x2F;O</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/sigio.png" class="" title="SIGIO"><h1 id="5-Asynchronous-I-x2F-O-aio-functions"><a href="#5-Asynchronous-I-x2F-O-aio-functions" class="headerlink" title="5. Asynchronous I&#x2F;O (aio_* functions)"></a>5. Asynchronous I&#x2F;O (aio_* functions)</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/aio.png" class="" title="AIO"><h1 id="6-Compare-above-5-models"><a href="#6-Compare-above-5-models" class="headerlink" title="6. Compare above 5 models"></a>6. Compare above 5 models</h1><img src="/2023/07/26/5-I-O-model-in-network-programming/compare.png" class="" title="COMPARE"><hr><p>documents:</p><a href="/2023/07/26/5-I-O-model-in-network-programming/networkprogrammingmodels.ods" title="networkprogrammingmodels.ods">networkprogrammingmodels.ods</a><hr><p>Reference:<br><a href="https://www.cnblogs.com/jiujuan/p/16564610.html">https://www.cnblogs.com/jiujuan/p/16564610.html</a></p>]]></content>
    
    
    <categories>
      
      <category>OS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL-more</title>
    <link href="/2023/07/24/PostgreSQL-more/"/>
    <url>/2023/07/24/PostgreSQL-more/</url>
    
    <content type="html"><![CDATA[<p>PostgreSQL</p><p><a href="https://medium.com/braintree-product-technology/postgresql-at-scale-database-schema-changes-without-downtime-20d3749ed680">https://medium.com/braintree-product-technology/postgresql-at-scale-database-schema-changes-without-downtime-20d3749ed680</a></p><p><a href="https://gajus.medium.com/lessons-learned-scaling-postgresql-database-to-1-2bn-records-month-edc5449b3067">https://gajus.medium.com/lessons-learned-scaling-postgresql-database-to-1-2bn-records-month-edc5449b3067</a></p><p><a href="https://www.2ndquadrant.com/en/blog/pg-phriday-terrific-throughput-tracking/">https://www.2ndquadrant.com/en/blog/pg-phriday-terrific-throughput-tracking/</a></p><p><a href="https://blog.crunchydata.com/blog/managing-transaction-id-wraparound-in-postgresql">https://blog.crunchydata.com/blog/managing-transaction-id-wraparound-in-postgresql</a></p><p><a href="https://blog.crunchydata.com/blog/a-guide-to-building-an-active-active-postgresql-cluster">https://blog.crunchydata.com/blog/a-guide-to-building-an-active-active-postgresql-cluster</a></p><p><a href="https://www.2ndquadrant.com/en/blog/banking-on-postgres-webinar/">https://www.2ndquadrant.com/en/blog/banking-on-postgres-webinar/</a></p>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GIN CORS OPTIONS issue</title>
    <link href="/2023/07/18/GIN-CORS-OPTIONS-issue/"/>
    <url>/2023/07/18/GIN-CORS-OPTIONS-issue/</url>
    
    <content type="html"><![CDATA[<p>when use GIN to provide cross origin rest api service, a specific situation you will encounter the problem of prefilght fail. mostly, it will look like : Access to fetch at ‘10.195.11.44:3001&#x2F;connectBusiDb’ from origin ‘<a href="http://10.195.11.44:8080&#39;">http://10.195.11.44:8080&#39;</a> has been blocked by CORS policy: Response to preflight request doesn’t pass access control check: Redirect is not allowed for a preflight request. Or authentication relatived.</p><p>the way to go over this issue is to add the OPTIONS routing map yourself for the url. and I am hoping to have a configuration on gin to deal it, that we can save much time on add the redundant code.</p><p>TO-DO:</p><p>figure out why this gin framework doesn’t include solution inside.<br>try to make a pr to contribute.<br>REF: complain: github.com&#x2F;gin-gonic&#x2F;gin&#x2F;issues&#x2F;211 similar issue description: github.com&#x2F;gin-gonic&#x2F;gin&#x2F;issues&#x2F;2801 knowledge about gin middleware: pjchender.dev&#x2F;golang&#x2F;gin-middleware knowledge about CORS on front end:developer.aliyun.com&#x2F;article&#x2F;753657 knowledge about CORS-refferrer: web.dev&#x2F;referrer-best-practices AND developers.google.com&#x2F;web&#x2F;updates&#x2F;2020&#x2F;07&#x2F;r.. code of middleware to enable CORS for GIN:segmentfault.com&#x2F;a&#x2F;1190000024437309 AND segmentfault.com&#x2F;a&#x2F;1190000022781975</p>]]></content>
    
    
    <categories>
      
      <category>golang</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IOS device as a webcam/audio input device for windows</title>
    <link href="/2023/05/14/IOS-device-as-a-webcam-audio-input-device-for-windows/"/>
    <url>/2023/05/14/IOS-device-as-a-webcam-audio-input-device-for-windows/</url>
    
    <content type="html"><![CDATA[<p>Below will introduce 2 methods to simulate the IOS devices like iPhone and iPad as a webcam or audio input device for windows PC.</p><h1 id="First"><a href="#First" class="headerlink" title="First:"></a>First:</h1><p>Using the internet connect ios device as a remote camera or audio collecting device for window PC.  </p><p>what tools is needed:</p><ol><li>VDO.NINJA<br>A public deploy of the tool VDO.NINJA which the opensource hosted at: <a href="https://github.com/steveseguin/vdo.ninja">https://github.com/steveseguin/vdo.ninja</a></li><li>OBS Studio<br>A opensource video studio software to simulate the ios device signal as a virtual camera, which hosted at: <a href="https://github.com/obsproject/obs-studio">https://github.com/obsproject/obs-studio</a></li><li>VB-Cable driver which you can get from: <a href="https://vb-audio.com/Cable/">https://vb-audio.com/Cable/</a></li></ol><p>As the direction of using above tools to archive the target, a youtube video is referable:<a href="https://www.youtube.com/watch?v=ArVDKf2QK1s&amp;t=181s">https://www.youtube.com/watch?v=ArVDKf2QK1s&amp;t=181s</a></p><h1 id="Second"><a href="#Second" class="headerlink" title="Second:"></a>Second:</h1><p>Connect the ios device to PC with USB cable, hardware connected to use the ios device as a webcam and audio input device.<br>what tools is needed:</p><ol><li>camera for OBS studio<br>An ios app, which you can get from the app store.</li><li>iOS Camera Plugin for OBS Studo<br>A plugin for OBS Studio to enable it to be able to get the streaming source from the ios device which produced by above app. You can get this OBS Studio plugin from: <a href="https://obs.camera/docs/getting-started/ios-camera-plugin-usb/">https://obs.camera/docs/getting-started/ios-camera-plugin-usb/</a></li><li>OBS studio<br>Same software in the first solution. It can simulate the ios device signal as a virtual camera.</li></ol><p>In general, both ways are justing working with no problem, if you need the remote collecting feature and see the letancy not big matter, the first solution is more funtional. And if you just setup your phone aside the PC, and the second is morre stable and instant. </p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Kubernetes</title>
    <link href="/2022/10/25/Kubernetes/"/>
    <url>/2022/10/25/Kubernetes/</url>
    
    <content type="html"><![CDATA[<p>KUBERNETES</p><p>Kubernetes Components</p><ul><li>Node</li><li>Pod</li><li>Service</li><li>ingress</li><li>Volumes</li><li>Replicaset</li><li>Secret</li><li>Configmap</li><li>Deployment for stateless apps</li><li>Statefulset for stateful apps</li></ul><h1 id="DB-are-ofter-hosted-outside-of-k8s-cluster"><a href="#DB-are-ofter-hosted-outside-of-k8s-cluster" class="headerlink" title="DB are ofter hosted outside of k8s cluster"></a>DB are ofter hosted outside of k8s cluster</h1><p>Kubernetes Processes<br>Master processes</p><ul><li>Api Server: cluster gateway, act as authentication gate</li><li>Scheduler:  decides on which Node new Pod should be scheduled</li><li>Controller manager: detects cluster state changes</li><li>Etcd:  the cluster brain, Cluster changes get stored in the key value store<br>Node processes</li><li>Container runtime:  like docker</li><li>Kubelet:  interacts with the container and node</li><li>Kube proxy:  forwards the requests<br>Minikube</li><li>Creates Virtual Box on your laptop</li><li>Node runs in that Virtual Box</li><li>1 Node K8s cluster</li><li>For testing purposes</li></ul><p>Kubernetes Operation<br>在mac上安装minikube<br>brew update<br>brew install hyperkit<br>brew install minikube</p><p>运行minikube<br>minikube start —vm-driver&#x3D;hyperkit —cni&#x3D; flannel<br>minikube status </p><p>Setup the docker mirror repository inside minikube<br>minikube ssh<br>sudo mkdir -p &#x2F;etc&#x2F;docker<br>sudo tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-‘EOF’<br>{<br>  “registry-mirrors”: [“xxx”]<br>}<br>EOF<br>sudo systemctl daemon-reload<br>sudo systemctl restart docker</p><p>kubectl的一些操作<br>kubectl version 查看版本<br>Kubectl cluster-info<br>kubectl get nodes 查看当前node<br>Kubectl get service<br>Kubectl get deployment<br>Kubectl get replicaset<br>Kubectl get pod</p><h1 id="Layer-of-abstraction"><a href="#Layer-of-abstraction" class="headerlink" title="Layer of abstraction"></a>Layer of abstraction</h1><ul><li>Deployment manages a replicaset</li><li>Replicaset manages all the replicaset of a pod</li><li>Pod is a abstraction of a container<br>Everything below deployment is handled by kubernates.</li></ul><p>Kubectl create deployment [depl-name] –image&#x3D;[iamge name] 创建pod<br>Kubectl edit deployment [depl name]<br>Kubectl delete deployment [depl name]</p><p>Kubectl apply -f [file name] 用于创建service和deployment<br>Kubectl delete -f [file name]<br>Kubectl get pod -o wide</p><p>Kubectl exec -it [pod name] – bin&#x2F;bash<br>Kubectl logs [pod name]<br>Kubectl describe pod [pod name]<br>Kubectl describe service [service name]</p><p>Kubectl get deployment -o yaml<br>Kubectl get deployment -o yaml &gt; nginx-deployment-result.yaml</p><p>Echo -n ‘username’ | base64</p><p>Kubectl get secret<br>Kubectl get all | grep mongodb<br>Kubectl get pod </p><p>minikube service mongodb-express-service</p><p>Namespace</p><ul><li>Kubernetes-dashboard only with minikube</li><li>Kube-system system processes</li><li>Kube-public publicely accessible data, a congifmap, which contains cluster information #Kubectl cluster-info</li><li>Kube-node-lease  heartbeats of nodes, each node has associated lease object in namespace, determines the availability of a node</li><li>Default  resources you create are located here</li><li>Create a Namespace #kubectl create namespace my-namespace</li></ul><p>User cases when to use Namespace:</p><ol><li>Structure your components</li><li>Avoid conflicts between teams</li><li>Share services between different environments</li><li>Access and Resource Limits on Namespaces Level<br>characteristics of Namespace:</li><li>You can’t access most resources from another Namespace, each NS must define own ConfigMap,Secrets and service</li><li>Components, which can’t be created within a Namespace, like volumes…  # kubectl api-resources —namespaced&#x3D;false# kubectl api-resources —namespaced&#x3D;true</li></ol><p>kubectl create namespace my-namespace<br>Kubectl get ns<br>kubectl get configmap -n my-namespece<br>kubectl apply -f mongo-configmap.yaml –namespace&#x3D;my-namespace<br>kubectl delete configmap -n my-namespace mongodb-configmap</p><p>Change the active namespace with kubernetes ？？<br>Brew install kubectx<br>Kubens my-namespace<br>Kubens</p><p>INGRESS<br>Minikube addons enable ingress<br>Debug:</p><ul><li>Kubectl get pod -A</li><li>Kubectl describe pod &#x2F;ingress-nginx-controller-xxxxxx —namespace&#x3D;kube-system</li><li>Minikube ssh</li><li>Docker pull quay.io&#x2F;kubernetes-ingress-controller&#x2F;nginx-ingress-controller:0.33.0<br>将本地的image放到minikube里面</li><li>docker save pollyduan&#x2F;ingress-nginx-controller:v0.42.0 | (eval $(minikube docker-env) &amp;&amp; docker load)<br>Kubectl get pod -n kube-system</li></ul><p>us.gcr.io&#x2F;k8s-artifacts-prod&#x2F;ingress-nginx&#x2F;controller:v0.40.2<br>us.gcr.io&#x2F;.. 这样的iamge在国内是访问不到的，可以通过docker hub下载到镜像后，在本地使用tag给image改名来让k8s或者docker识别使用：</p><ul><li>docker tag 2da us.gcr.io&#x2F;k8s-artifacts-prod&#x2F;ingress-nginx&#x2F;controller:v0.40.2</li></ul><p>kubectl get ingress -n kubernetes-dashboard –watch</p><p>HELM</p><ol><li>Helm是一个k8s包管理器<br>Brew install helm<br>helm repo add ingress-nginx <a href="https://kubernetes.github.io/ingress-nginx">https://kubernetes.github.io/ingress-nginx</a><br>Helm repo update<br>helm install -n default ingress ingress-nginx&#x2F;ingress-nginx</li></ol><p>Helm Charts 用来安装常用的一些软件，例如：<br>Database Apps: MongoDB, MySQL, Elasticsearch<br>Monitoring Apps: Promotheus<br>Helm search<br>2. Templating Engine<br>3. Redeployment Same Applications Across Different Environments<br>Helm Chart Structure:<br>Mychart&#x2F;—Top level mychart folder<br>    Chart.yaml   — meta innfo about chart, like chart name version..<br>    values.yaml— values for the template files<br>    charts&#x2F;— chart depencies<br>    templates&#x2F;— the actual template files<br>    …</p><p>可以指定其他value.yaml来覆盖chart中的默认value:<br>Helm install chartname —values&#x3D;my-values.yaml<br>可以在命令行中使用–set指定value来覆盖chart中的默认value<br>Helm install  chartname —set version&#x3D;2.0.0</p><p>Helm3 removed the server of Tiller from K8s cluster</p><p>Volumes<br>Persistent volumes are NOT namespaced</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Homebrew</title>
    <link href="/2022/10/25/Homebrew/"/>
    <url>/2022/10/25/Homebrew/</url>
    
    <content type="html"><![CDATA[<p>Brew help<br>Brew search<br>Brew search | wc -l<br>Brew search postgres<br>Brew install tree<br>Which tree<br>Ls -la &#x2F;usr&#x2F;local&#x2F;bin&#x2F;tree<br>&#x2F;usr&#x2F;local&#x2F;Celler<br>Brew info tree<br>Brew info node<br>Brew uninstall tree<br>Grep —version<br>Brew info grep<br>Brew list<br>Brew update<br>Brew outdated<br>Brew upgrade<br>Brew cleanup<br>Brew doctor</p><p>Brew search pycharm<br>Brew info pycharm<br>Brew info —cask pycharm<br>Brew home pycharm</p><p>Brew search heroku<br>Brew tap heroku&#x2F;brew<br>Brew search heoroku</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Cesium</title>
    <link href="/2022/10/25/Cesium/"/>
    <url>/2022/10/25/Cesium/</url>
    
    <content type="html"><![CDATA[<p>查看相机高度<br>viewer.camera.positionCartographic.height</p><p>Cesium ion<br>一个免费的在线切片资源服务器，有地形(terrain)、影像(imagery)、航拍(photogrammetry),栅格&#x2F;点云(point clouds), 以及三维建筑(3D building)</p><ul><li>Cesium.com 用户名&#x2F;密码 zw3413&#x2F;Good@2020</li></ul><p>ECEF 坐标系:<br>地心地固坐标系，Earth-Centered,Earth-Fixed,简称ECEF，地心坐标系<br>是一种以地心为原点的低估坐标系（也成为地球坐标系），是一种笛卡尔坐标系。原点O（0，0）为地球质心，z轴与地轴平行指向北极点，x轴指向本初子午线与赤道的交点，y轴垂直于xOz平面（即东经90度与赤道的交点）构成右手坐标系。<br>￼</p><img src="/2022/10/25/Cesium/Prime%20Meridian.png" class="" title="Prime Meridian"><ul><li>Cesium.Cartesian3<br>相对于ECEF坐标系的坐标，能够通过Cesium.Cartesian3.fromDegrees(longitude,latitude,height,ellipsoid,result),将经纬度及高度，获取到相对于ECEF坐标系的坐标。其中height是距离WGS84椭球的单位为米的高度</li></ul><p>数据类型</p><ul><li>3D Models -  3D Tiles (Point cloud, Terrain)</li><li>3D Models -  3D gITF</li><li>3D Capture</li><li>CZML</li></ul><p>GLB和gITF<br>GLB 是gITF格式的二进制形式，用来保存gITF格式的数据。以二进制的形式保存一个三维模型的节点关系，相机，材质，动画和网格等信息，包含了gITF数据的JSON，.bin和images等文件</p><ul><li><p>Cesium支持的矢量格式：<br>kml<br>Geojson<br>Czml</p></li><li><p>Postgis 和 cesium 使用geojson来进行矢量数据的通信</p></li></ul><ul><li>Postgis对于geojson数据的串行化和反串行化<br>select st_geomfromgeojson(JSON(‘{“type”:”Feature”,”properties”:{“name”:”test01”,”gvtype”:0},”geometry”:{“type”:”Point”,”coordinates”:[107.60040500984195,34.82754134227982,0]}}’)-&gt;’geometry’)</li></ul><p>insert into d3_geometry(id, geometry)<br>values (‘1’,st_geomfromgeojson(JSON(‘{“type”:”Feature”,”properties”:{“name”:”test01”,”gvtype”:0},”geometry”:{“type”:”Point”,”coordinates”:[107.60040500984195,34.82754134227982,0]}}’)-&gt;’geometry’))</p><p>select ST_AsGeoJSON(geometry) from d3_geometry<br>— {“type”:”Point”,”coordinates”:[107.60040501,34.827541342,0]}</p><ul><li>cesium对象与geojson的相互转化</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Javascript Notes</title>
    <link href="/2022/10/25/Javascript-Notes/"/>
    <url>/2022/10/25/Javascript-Notes/</url>
    
    <content type="html"><![CDATA[<p>Javascript this bind</p><ol><li>默认绑定</li><li>隐式绑定</li><li>强制绑定</li><li>构造函数绑定</li><li>严格模式</li></ol><p>查看FormData的内容<br>&#x2F;&#x2F;第一种<br> for (var value of formData.values()) {<br>    console.log(value);<br> }<br> &#x2F;&#x2F;第二种<br> for (var [a, b] of formData.entries()) {<br>    console.log(a, b);<br> }   </p><p>判断浏览器是否支持FLASH</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hasUsableSWF</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">var</span> swf;     <br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">ActiveXObject</span> != <span class="hljs-string">&quot;undefined&quot;</span>)&#123;<br>        swf = <span class="hljs-keyword">new</span>  <span class="hljs-title class_">ActiveXObject</span>(<span class="hljs-string">&quot;ShockwaveFlash.ShockwaveFlash&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>         swf = navigator.<span class="hljs-property">plugins</span>[<span class="hljs-string">&#x27;Shockwave Flash&#x27;</span>];<br>    &#125;<br>    <span class="hljs-keyword">return</span> swf ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>4 Reasons of Z-Index Not Working</title>
    <link href="/2022/10/18/CSS-4-Reasons-of-Z-Index-Not-Working/"/>
    <url>/2022/10/18/CSS-4-Reasons-of-Z-Index-Not-Working/</url>
    
    <content type="html"><![CDATA[<p><a href="https://coder-coder.com/z-index-isnt-working/">https://coder-coder.com/z-index-isnt-working/</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL Administration</title>
    <link href="/2022/09/01/PostgreSQL-Administration/"/>
    <url>/2022/09/01/PostgreSQL-Administration/</url>
    
    <content type="html"><![CDATA[<p>commands in psql:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql">\dx #<span class="hljs-keyword">show</span> <span class="hljs-keyword">all</span> installed extension<br>\l #list <span class="hljs-keyword">all</span> databases<br>\password <span class="hljs-operator">&lt;</span>username<span class="hljs-operator">&gt;</span> # change password <span class="hljs-keyword">for</span> <span class="hljs-keyword">user</span><br></code></pre></td></tr></table></figure><p><a href="https://medium.com/braintree-product-technology/postgresql-at-scale-database-schema-changes-without-downtime-20d3749ed680">https://medium.com/braintree-product-technology/postgresql-at-scale-database-schema-changes-without-downtime-20d3749ed680</a><br><a href="https://gajus.medium.com/lessons-learned-scaling-postgresql-database-to-1-2bn-records-month-edc5449b3067">https://gajus.medium.com/lessons-learned-scaling-postgresql-database-to-1-2bn-records-month-edc5449b3067</a><br><a href="https://www.2ndquadrant.com/en/blog/pg-phriday-terrific-throughput-tracking/">https://www.2ndquadrant.com/en/blog/pg-phriday-terrific-throughput-tracking/</a><br><a href="https://blog.crunchydata.com/blog/managing-transaction-id-wraparound-in-postgresql">https://blog.crunchydata.com/blog/managing-transaction-id-wraparound-in-postgresql</a><br><a href="https://blog.crunchydata.com/blog/a-guide-to-building-an-active-active-postgresql-cluster">https://blog.crunchydata.com/blog/a-guide-to-building-an-active-active-postgresql-cluster</a><br><a href="https://www.2ndquadrant.com/en/blog/banking-on-postgres-webinar/">https://www.2ndquadrant.com/en/blog/banking-on-postgres-webinar/</a></p><p>高可用方案：<br>共享磁盤故障轉移<br>文件系統(塊設備)複製<br>預寫式日誌(WAL)傳送<br>邏輯複製<br>基於觸發器的主-備複製<br>基於語句的複製中間件<br>異步多主控機複製<br>同步多主控機複製<br>其他商業方案</p>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Tech Index</title>
    <link href="/2022/08/31/Tech-Index/"/>
    <url>/2022/08/31/Tech-Index/</url>
    
    <content type="html"><![CDATA[<p>jaCOCO<br><a href="https://www.zhihu.com/market/pub/120331418/manuscript/1542985376842911745">https://www.zhihu.com/market/pub/120331418/manuscript/1542985376842911745</a><br><a href="https://www.zhihu.com/question/589052654/answer/2932431968">https://www.zhihu.com/question/589052654/answer/2932431968</a></p><p>HALCON<br>seetaface6<br>electron<br>.NET Core<br>Neo4J</p><p>JAVA<br>GO<br>SWIFT<br>jeecg-boot<br>publicCMS<br>網絡編程模型<br>GO.channel<br>GO.lock<br>JAVA.lock.reetrantlock<br>JAVA.lock.Synchorized<br>redis<br>go-ethereum<br>Tailwind<br>amis<br>magic-api<br>dayjs<br>showdoc<br>activiti<br>Selenium<br>ElasticSearch<br>MongoDB</p><p>Apache Thrift<br>&lt;今日头条Go建千亿级微服务的实践&gt; <a href="https://36kr.com/p/1721518997505">https://36kr.com/p/1721518997505</a><br>&lt;Go并发编程之美-CAS操作&gt; <a href="https://zhuanlan.zhihu.com/p/56733484">https://zhuanlan.zhihu.com/p/56733484</a></p><p>jeecg<br>publiccms<br>quasar<br>Vldb&#x2F;Sigmod<br>openmct</p><p>Monitoring and Debugging tools:<br>Grafana<br>Prometheus<br>Kibana<br>WireShark<br>eBPF</p><p>github免费托管静态网页<br><a href="https://pages.github.com/">https://pages.github.com</a><br>jekyll，Octopress 通过markdown生成html</p><p>结对编程（Pair Programming）<br>对于算法主导类的技术面，Pair 肯定是必须的。<br>很多都在 HackerRank 的 CodePair <br>(opens new window)<br>上进行，建议提前熟悉用户界面。</p><p>linux 常用命令總結</p><p>The projects I am wishing to implement</p><ol><li>the gpt talker, which is to help English learner to practise the speaking.<br>repository: </li><li>the tool to collect data and information of job market, especially for IT jobs.</li><li>learn the <ul><li>nodejs</li><li>reactjs </li><li>typescript</li><li>Elixir</li><li>GraphQL  </li><li>3D visualization, WebGL<br> to prepare for the fullstack job applicaiton.</li></ul></li><li>clean my bookmark and all other info collectives, like twitter and wechat favourites.</li><li>develop my blog</li><li>build the productivity ability base on opensource tools like jeecg and plulicCMS<ul><li>CMS</li><li>Brand website</li></ul></li><li>build an AI tools collective website</li></ol><p>For the first one, it is pending due to the chat-gpt api is not available for me.</p><p>For the seconde one, I think it is not that urgent. I have did some search online, at present I am interested in the DevOps and fullstack developping. For the first one I don’t think it is easy to learn by my self, maybe I could plan a certification first.</p><p>For the third one, I have learned the nextjs, but not reactjs yet. And I didn’t learn the nodejs systemly yet. I will decide if I start this session after a short research.</p><p>For the last two, this is what I should continuing doing once I lost my direction.</p><p>Job search history:<br>20230723:</p><p>馮克  三部曲<br>龍應台 大江大海1949</p><p><a href="https://www.zhihu.com/question/30576324/answer/3107785821">https://www.zhihu.com/question/30576324/answer/3107785821</a><br><a href="https://www.zhihu.com/question/517101428/answer/3041079679">https://www.zhihu.com/question/517101428/answer/3041079679</a></p>]]></content>
    
    
    <categories>
      
      <category>miscellanous</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Java Notes</title>
    <link href="/2022/08/31/Java-Notes/"/>
    <url>/2022/08/31/Java-Notes/</url>
    
    <content type="html"><![CDATA[<h1 id="公平鎖"><a href="#公平鎖" class="headerlink" title="公平鎖"></a>公平鎖</h1><p>在锁上等待时间最长的线程将获得锁的使用权。通俗的理解就是谁排队时间最长谁先执行获取锁。</p><p>緩存一致性問題</p><h1 id="request-getParameter-“参数名”-中文乱码解决方法"><a href="#request-getParameter-“参数名”-中文乱码解决方法" class="headerlink" title="request.getParameter(“参数名”) 中文乱码解决方法"></a>request.getParameter(“参数名”) 中文乱码解决方法</h1><p>原因：Http请求传输时将url以ISO-8859-1编码，服务器收到字节流后默认会以ISO-8859-1编码来解码成字符流（造成中文乱码）<br>解决办法：<br>方法1.我们需要把request.getParameter(“参数名”)获取到的字符串先用ISO-8859-1编码成字节流，然后再将其用utf-8解码成字符流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(request.getParameter(<span class="hljs-string">&quot;参数名&quot;</span>).getBytes(<span class="hljs-string">&quot;iso-8859-1&quot;</span>), <span class="hljs-string">&quot;utf-8&quot;</span>); <br></code></pre></td></tr></table></figure><p>方法2.也可以通过Tomcat配置文件，设置URL编码集（URIEncoding）设置编码，这种方法也是一劳永逸的<br>修改Tomcat&#x2F;conf 目录下 server.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span>   </span><br><span class="hljs-tag">    <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span>   </span><br><span class="hljs-tag">    <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8444&quot;</span>   </span><br><span class="hljs-tag">    <span class="hljs-attr">useBodyEncodingForURI</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">URIEncoding</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;</span> <br></code></pre></td></tr></table></figure><p>重点在 userBodyEncodingForURI 和 URIEncoding 这两个属性<br>a. useBodyEncodingForURI参数表示是否用request.setCharacterEncoding参数对URL提交的数据和表单中GET方式提交的数据进行重新编码，在默认情况下，该参数为false。<br>b. URIEncoding参数指定对所有GET方式请求进行统一的重新编码（解码）的编码。<br>URIEncoding和useBodyEncodingForURI区别是:URIEncoding是对所有GET方式的请求的数据进行统一的重新编码，而useBodyEncodingForURI则是根据响应该请求的页面的request.setCharacterEncoding参数对数据进行的重新编码，不同的页面可以有不同的重新编码的编码</p><h1 id="final"><a href="#final" class="headerlink" title="final"></a>final</h1><p>以final类型标记方法参数，任何时候都适用。这样做的好处在于当你不小心修改参数值时，编译器会给你警告，同时它还能以更好的方式优化编译器代码字节。      例如：private boolean isEligible(final int age){ … }</p><h1 id="Change-Tomcat-name"><a href="#Change-Tomcat-name" class="headerlink" title="Change Tomcat name"></a>Change Tomcat name</h1><p>修改Tomcat名称，修改%tomcat_home%\bin目录下的“catalina.bat”文件，找到 if “%TITLE%”&#x3D;&#x3D;“” set TITLE&#x3D;Tomcat,将其中的Tomcat修改为想要的名称即可，例如 if “%TITLE%”&#x3D;&#x3D;“” set TITLE&#x3D;“xxx系统_正式环境”。保存文件，重启Tomcat即可。</p><h1 id="Spring-分布式Session"><a href="#Spring-分布式Session" class="headerlink" title="Spring 分布式Session"></a>Spring 分布式Session</h1><p><a href="https://www.jianshu.com/p/97c714e2ca7d">https://www.jianshu.com/p/97c714e2ca7d</a></p><h1 id="Tomcat-搭建cluster實現session共享"><a href="#Tomcat-搭建cluster實現session共享" class="headerlink" title="Tomcat 搭建cluster實現session共享"></a>Tomcat 搭建cluster實現session共享</h1><p><a href="https://xstarcd.github.io/wiki/Java/tomcat_cluster.html">https://xstarcd.github.io/wiki/Java/tomcat_cluster.html</a><br><a href="https://www.oracle.com/webfolder/technetwork/tutorials/obe/cloud/apaas/java/tomcat-tcp-cluster/index.html">https://www.oracle.com/webfolder/technetwork/tutorials/obe/cloud/apaas/java/tomcat-tcp-cluster/index.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Golang Basic</title>
    <link href="/2022/08/31/Golang-Basic/"/>
    <url>/2022/08/31/Golang-Basic/</url>
    
    <content type="html"><![CDATA[<p>GO</p><ul><li>you can use a local mod to replace a remote mod where declared on github.<br>go mod edit -replace github.com&#x2F;GoAdminGroup&#x2F;go-admin&#x3D;&#x2F;home&#x2F;zhongwei&#x2F;work&#x2F;go-admin</li></ul><p>environment preparation<br>setting PATH of GOROOT and GOPATH<br>to enable the go in command line.</p><ul><li>firstapp<br>go run src&#x2F;github.com&#x2F;zw3413&#x2F;firstapp&#x2F;Main.go<br>go build github.com&#x2F;zw3413&#x2F;firstapp<br>go install github.com&#x2F;zw3413&#x2F;firstapp</li></ul><p>不支持任何隐式类型转换<br>不支持指针运算<br>字符串是值类型，初始化值为“”，而不是nil<br>同维度同长度数组可以比较是否相等<br>除了一般的逻辑运算符和位运算符，GO引入了按位清零运算符&amp;^</p><p>循环：Go仅支持for循环，条件不需要加括号<br>形式一：<br>for i : &#x3D;1; i++; i&lt;&#x3D;10 {</p><p>}<br>形式二：<br>n:&#x3D;0<br>for n&lt;5{</p><p>}<br>形式三：<br>for{</p><p>}</p><p>条件：<br>if var declare; condition{</p><p>}<br>Switch os :&#x3D; runtiome.GOOS; os{<br>    case “darwin” , ”OS X” :<br>        fmt.Println(“OS X.”)<br>        &#x2F;&#x2F;break                           GO里面不需要自己加break<br>    default:<br>        fmt.Print(“default os”)<br>}<br>switch {<br>    case 0 &lt;&#x3D; Num &amp;&amp; Num &lt;&#x3D; 3:<br>        fmt.Println(“0-3”)<br>}</p><p>數據類型：<br>布爾型：true&#x2F;false<br>數字類型：int float32 float64 支持複數，位的運算採用補碼<br>uint8 無符號8位整形0<del>255<br>uint16 無符號16位整形0</del>65535<br>uint32無符號32位整形0<del>4294967295<br>uint64無符號64位整形0</del>18446744073709551615<br>int8有符號8位整形-128<del>127<br>int16有符號16位整形-32768</del>32767<br>int32有符號32位整形-2147483648<del>2147483647<br>int64有符號64位整形-9223372036854775808</del>9223372036854775807<br>float32 IEEE-754 32位浮點整形<br>float64 IEEE-754 64位浮點型數<br>complex64 32位實數和虛數<br>complex128 64位實數和虛數<br>byte 類似uint8<br>rune 類似int32<br>uint 32或64位<br>int 與uint一樣大小<br>uintptr 無符號整形，用於存放一個指針<br>字符串類型：由一串固定長度的字符鏈接起來的字符序列。由單個字節鏈接起來，每個字節採用URF-8編碼標識的Unicode文本<br>派生類型：<br>指針類型(Pointer)<br>數組類型<br>結構化類型(struct)<br>Channel類型</p><p>函數類型<br>切片類型<br>接口類型(interface)<br>Map類型</p><p>Variable变量<br>Variable declaration 声明变量的三种方式：<br>var foo int<br>var foo int &#x3D;42<br>foo:&#x3D;42</p><p>变量声明，与作用域<br>局部變量：函數內定義的變量<br>全局變量： 函數外定義的變量<br>形式參數： 函數定義中的變量</p><p>全局變量和局部變量名稱可以相同，但是函數內的局部變量會被優先考慮</p><p>变量命名规则</p><ul><li>lower case first letter for package scope</li><li>upper case first letter to export</li><li>no private scope</li></ul><h1 id="Naming-conventions-变量命名约定："><a href="#Naming-conventions-变量命名约定：" class="headerlink" title="Naming conventions 变量命名约定："></a>Naming conventions 变量命名约定：</h1><ul><li>Pascal or camelCase<br>Capitalize acronyms(HTTP,URL)</li><li>As short as reasonable<br> Longer names for longer lives</li></ul><h1 id="Type-convensions-类型约定："><a href="#Type-convensions-类型约定：" class="headerlink" title="Type convensions 类型约定："></a>Type convensions 类型约定：</h1><ul><li>destinationType(variable)</li><li>use strconv package for strings</li></ul><p>“{” 不能獨立成行<br>一般不用 “;”結尾，如果一行有多個語句，必須用“;”間隔</p><p>並行賦值，其中可以使用捨棄符_<br>例如，當調用一個返回多個值的函數，其中有幾個返回值是不需要的，由於Go強制變量必須被使用，所以可以使用_來進行捨棄<br>a, b :&#x3D; 1, 2<br>_, b :&#x3D; 1, 2<br>&#x2F;&#x2F;這種因式分解關鍵字的寫法一般用於聲明全局變量<br>var (<br>  a v_type1<br>  b v_type2<br>)<br>值類型與引用類型：<br>值類型：所有像int,float,bool,string這些基本類型都屬於值類型，使用這些類型的變量直接指向存在內存中的值， 使用&amp;i可以獲取到變量i的內存地址<br>引用類型：一個引用類型的變量r1存儲的是r1的值所在的內存地址(數字)，或內存地址中第一個字節所在的位置，這個內存地址叫做指針。</p><p>常量<br>const identifier[type]&#x3D;value<br>const b string &#x3D; “abc”<br>const b &#x3D; “abc”<br>const c_name1,c_name2&#x3D;value1,value2<br>常量用作枚舉：<br>const(<br>    Unknown &#x3D; 0<br>    Female &#x3D; 1<br>    Male &#x3D; 2<br>)<br>常量可以使用len(),cap(),unsafe.Sizeof()函數來計算表達式的值。<br>########<br>package main<br>import “unsafe”<br>const(<br>    a &#x3D; “abc”<br>    b &#x3D; len(a)<br>    c &#x3D; unsafe.Sizeof(a) &#x2F;&#x2F;常量表達式中，函數必須是內置函數，否則編譯不過<br>)<br>func main(){<br>    println(a, b, c)<br>}<br>########</p><p>iota<br>是一個可以被編譯器修改的特殊常量，在const關鍵字出現時被重置為0<br>const中每新增一行常量聲明，iota便會計數一次，可理解為const語句塊中的行索引。<br>const(<br>    a &#x3D; iota  &#x2F;&#x2F;0<br>    b &#x3D; iota  &#x2F;&#x2F;1<br>    c &#x3D; iota   &#x2F;&#x2F;2<br>)<br>iota的用法：<br>########<br>package main<br>import “fmt”<br>func main(){<br>    const(<br>        a&#x3D;iota &#x2F;&#x2F;0<br>        b &#x2F;&#x2F;1<br>        c &#x2F;&#x2F;2<br>        d &#x3D; “ha” &#x2F;&#x2F;獨立值,iota&#x3D;+1<br>        e &#x2F;&#x2F;“ha” iota+&#x3D;1<br>        f &#x3D; 100 &#x2F;&#x2F;iota+&#x3D;1<br>        g &#x2F;&#x2F;100 iota+&#x3D;1<br>        h &#x3D; iota &#x2F;&#x2F;7,恢復計數<br>        i &#x2F;&#x2F;8<br>    )<br>    fmt.Println(a,b,c,d,e,f,g,h,i)<br>}<br>########<br>result: 0 1 2 ha  100 100 7 8</p><p>指針<br>一個指針指向一值得內存地址<br>var var_name *var-type<br>var ip *int  &#x2F;<em>指向整形</em>&#x2F;<br>var fp <em>float32 &#x2F;<em>指向浮點型</em>&#x2F;<br>指針的使用流程：<br>定義指針變量<br>為指針變量賦值<br>訪問指針變量中指向地址的值<br>在變量名前加上&amp;獲取其指針<br>在指針名前加上</em>獲取其值<br>########<br>var a int&#x3D;20<br>var ip *int<br>ip &#x3D; &amp;a<br>fmt.Printf(“a變量的地址是：%x\n”,&amp;a)<br>fmt.Printf(“ip變量儲存的指針地址：%x\n”,ip)<br>fmt.Printf(“*ip變量的值：%d\n”,*ip)<br>########<br>空指針：<br>當一個指針被定義後沒有分配到任何變量時，它的值為nil<br>如何判斷空指針：<br>if ( ptr !&#x3D; nil )<br>if ( ptr &#x3D;&#x3D; nil )</p><p>運算符<br>算數運算符：</p><ul><li><ul><li><ul><li>&#x2F; % ++ –<br>關係運算符：<br>&#x3D;&#x3D; !&#x3D; &gt; &lt; &gt;&#x3D; &lt;&#x3D;<br>邏輯運算符:<br>&amp;&amp; || ！<br>位運算符：<br>位運算符對整數在內存中的二進制位進行操作<br>&amp;  按位與運算符是雙目運算符，使參與運算的兩數各對應的二進位相與<br>|    按位或是雙目運算符，使參與運算的兩位數各對應的二進位相或<br>^   按位異或運算符是雙目運算符，使參與運算的兩數各對應的二進位相異或，當兩對應的二進位相異時，結果為1，相同時結果為0<br>&lt;&lt;左移運算符是雙目運算符，左移n位就是乘以2的n次方。左側數字的各二進位全部左移右側數字位，高位丟棄，低位補0<blockquote><blockquote><p>右移運算符是雙目運算符，右移n位就是除以2的n次方。左側數字的各二進位全部右移右側數字位<br>賦值運算符<br>&#x3D;   右側表達式的值賦給左側變量<br>+&#x3D; 相加後再賦值<br>-&#x3D; 相減後再賦值<br>*&#x3D; 相乘後再賦值<br>&#x2F;&#x3D; 相除後再賦值<br>%&#x3D; 求余后再賦值<br>&lt;&lt;&#x3D;左移后賦值<br>&#x3D; 右移后賦值<br>&amp;&#x3D; 按位與后賦值<br>^&#x3D; 按位異或后賦值<br>|&#x3D; 按位或后賦值<br>其他運算符<br>&amp; 返回變量存儲地址,取址運算符 &amp;a給出變量a的實際地址<br>*指針變量  *a;是一個指針變量<br>運算符優先級<br>5    *  &#x2F;  %  &lt;&lt;  &gt;&gt;  &amp;  &amp;^<br>4    +  -  |  ^<br>3    &#x3D;&#x3D;  !&#x3D;  &lt;  &lt;&#x3D;  &gt;  &gt;&#x3D;<br>2    &amp;&amp;<br>1    ||</p></blockquote></blockquote></li></ul></li></ul></li></ul><p>函數<br>func swap(x , y string)(string ,string){<br>    return y, x<br>}<br>Go語言中的參數傳遞都是值傳遞，而不是引用傳遞<br>函數支持函數作為參數傳入到另一個函數中<br>閉包是匿名函數，可在動態編程中使用<br>方法就是一個包含了接受者的函數</p><p>數組、結構體、切片(Slice)、集合(Map)<br>數組用來存儲一組相同數據類型的數據,<br>長度不可變<br>聲明：var balance [10]float32<br>賦值1：var balance &#x3D; [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0}<br>賦值2：var balance &#x3D; […]float32{1000.0, 2.0, 3.4, 7.0 ,50.0}<br>輸出：balance[4]&#x3D;50.0<br>結構體用來存儲一組不同或者相同數據類型的數據<br>結構體的定義:<br>type struct_variable_type struct{<br>    member definition<br>    member definition<br>    member definition<br>    …<br>    member definition<br>}<br>使用結構體來聲明變量：<br>variable_name :&#x3D; structure_variable_type{value1, value2, … valuen}<br>variable_name :&#x3D; structure_variable_type{key1: value, key2: value2…, keyn:valuen}<br>可以使用結構體變量帶上.操作符訪問結構體中的內容，<br>也可以使用結構體指針帶上.操作符訪問結構體中的內容<br>Go語言的切片是對數組的抽象<br>Slice類型是一種“動態數組”，長度不固定，可以追加元素，並且在追加元素時可能使切片的容量增大<br>切片的聲明：(不需要說明長度，如果給定長度即成為一個數組)<br>var identifier []type<br>或者使用make()函數來創建切片<br>var slice1 []type &#x3D; make( []type , len )<br>也可簡寫為：<br>slice1 :&#x3D; make([]type, len)<br>也可以指定容量，其中capacity為可選參數<br>make([]T,len,capacity)<br>其中的len是數組的長度並且也是切片的初始長度<br>切片初始化<br>直接初始化，[]標識切片類型，後面是具體的值，cap&#x3D;len&#x3D;3:<br>s :&#x3D; []int {1,2,3}<br>將切片s初始化為一個數組的引用,可以指定下標:<br>s :&#x3D; arr[ : ]<br>s :&#x3D; arr[ startIndex : endIndex ]<br>s :&#x3D; arr[ startIndex : ]<br>s :&#x3D; arr[ : endIndex]<br>通過一個切片來初始化<br>s1 :&#x3D; s[ startIndex : endIndex]<br>通過內置函數make來初始化<br>s :&#x3D; make([]int, len, cap) 其中[]int標識元素類型為int<br>內置函數<br>len()<br>cap()<br>append()<br>copy()<br>實例代碼：<br>var numbers []int<br>len(numbers)<br>cap(numbers)<br>append(numbers,1,2)<br>numbers1 :&#x3D; make([]int, len(numbers),(cap(numbers))*2)<br>copy(numbers1, numbers)<br>中文字符串截取：<br>rune_string :&#x3D; []rune(original_string)<br>new_string :&#x3D; rune_string[:4]</p><h4 id="Map-一種無序的鍵值對的集合"><a href="#Map-一種無序的鍵值對的集合" class="headerlink" title="Map 一種無序的鍵值對的集合"></a>Map 一種無序的鍵值對的集合</h4><p>Map最重要的一點是通過key來快速檢索數據，key類似於索引，指向數據的值。<br>Map可以無序迭代<br>聲明<br>var map_variable map[key_data_type]value_data_type<br>map_variable :&#x3D;make(map[key_data_type]value_data_type)<br>訪問和賦值<br>var countryCapitalMap map[string]string<br>countryCapitalMap&#x3D;make(map[string]string)<br>countryCapitalMap[“France”]&#x3D;”巴黎”<br>countryCapitalMap[“Italy”]&#x3D;”羅馬”<br>遍歷<br>for country :&#x3D; range countryCapitalMap{<br>    fmt.Println(country, “首都是”,countryCapitalMap[country])<br>}<br>查看元素在集合中是否存在<br>capital, ok :&#x3D; countryCapitalMap[“American”]<br>if(ok){<br>    fmt.Println(“American 的首都是”，capital)<br>}else{<br>    fmt.Println(“American的首都不存在”)<br>}<br>刪除元素<br>delete(countryCapitalMap, “France”)<br>範圍(Range)<br>range關鍵字用於for循環中迭代數組(array)、切片(slice)、通道(channel)或集合(map)，以及字符串的元素。在數組和切片中它返回元素的索引和索引對應的值，在集合中返回key-value對。</p><h4 id="遞歸函數-階乘"><a href="#遞歸函數-階乘" class="headerlink" title="遞歸函數-階乘"></a>遞歸函數-階乘</h4><p>########<br>package main<br>import “fmt”<br>func Factorial(n uint64)(result uint64){<br>    if(n&gt;0){<br>        result &#x3D; n * Factorial(n-1)<br>        return result<br>    }<br>    return 1<br>}<br>func main(){<br>    var i int &#x3D; 15<br>    fmt.Printf(“%d 的階乘是 %d”, i, Factorial(uint64(i) ))<br>}<br>########</p><h4 id="斐波那契數列"><a href="#斐波那契數列" class="headerlink" title="斐波那契數列"></a>斐波那契數列</h4><p>########<br>package main<br>import “fmt”<br>func fibonacci(n int)int {<br>    if n&lt;2{<br>        return n<br>    }<br>    return fibonacci(n-2)+fibonacci(n-1)<br>}<br>func main(){<br>    for i:&#x3D;0;i&lt;10;i++{<br>        fmt.Printf(“%d\t”, fibonacci(i))<br>    } <br>}<br>########</p><h4 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h4><p>&#x2F;* 定義接口 <em>&#x2F;<br>type interface_name interface {<br>    method_name1 [return_type]<br>    method_name2[return_type]<br>    method_name3[return_type]<br>    …<br>    method_namen[return_type]<br>}<br>&#x2F;</em> 定義結構體 <em>&#x2F;<br>type struct_name struct{<br>    &#x2F;</em> variables <em>&#x2F;<br>}<br>&#x2F;</em> 實現接口方法 <em>&#x2F;<br>func (struct_name_variable struct_name) method_name1()[return_type]{<br>    &#x2F;</em> 方法實現 *&#x2F;<br>}<br>…<br>func (struct_name_variable struct_name) method_name()[return_type]{<br>    &#x2F;<em>方法實現</em>&#x2F;<br>}</p><p>錯誤處理</p><h4 id="並發和通道"><a href="#並發和通道" class="headerlink" title="並發和通道:"></a>並發和通道:</h4><p>go say(“world”)&#x2F;&#x2F;啟動異步進程<br>ch :&#x3D; make(struct{}) &#x2F;&#x2F;創建一個不帶緩存的同步通道，使用一個空結構體參數類型<br>ch :&#x3D; make(chan int, 100) &#x2F;&#x2F;創建一個帶緩存的通道<br>ch &lt;- x &#x2F;&#x2F;往通道發送數據<br>x &#x3D; &lt;-ch &#x2F;&#x2F;接收通道數據<br>&lt;-ch    &#x2F;&#x2F;接收通道數據並捨棄<br>close(ch) &#x2F;&#x2F;關閉通道<br>for i:&#x3D;range ch{…} &#x2F;&#x2F;遍歷通過通道傳過來的值</p><h4 id="用sync-WaitGroup來管理和監事所有goroutine是否結束"><a href="#用sync-WaitGroup來管理和監事所有goroutine是否結束" class="headerlink" title="用sync.WaitGroup來管理和監事所有goroutine是否結束:"></a>用sync.WaitGroup來管理和監事所有goroutine是否結束:</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeThumbnails6</span><span class="hljs-params">(filenames &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">int64</span>&#123;   <span class="hljs-comment">//參數為一個接受類型的channel</span><br>    sizes := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">int64</span>) <span class="hljs-comment">//用來存放計算結果的channel</span><br>    <span class="hljs-keyword">var</span> wg sync.WaitGroup  <span class="hljs-comment">//聲明監視goroutine</span><br>    <span class="hljs-keyword">for</span> f:= <span class="hljs-keyword">range</span> filenames&#123;<br>        wg.Add(<span class="hljs-number">1</span>)   <span class="hljs-comment">//監視器+1</span><br>        <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(f <span class="hljs-type">string</span>)</span></span>&#123;<br>            <span class="hljs-keyword">defer</span> wg.Done() <span class="hljs-comment">//監視器-1</span><br>            thumb, err := thumbnail.ImageFile(f)<br>            <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>                log.Println(err)<br>                <span class="hljs-keyword">return</span><br>            &#125;<br>            info, _ := os.Stat(thumb)<br>            sizes &lt;- info.Size()<br>        &#125;(f)<br>    &#125;<br>    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span>&#123;  <span class="hljs-comment">//開啟監視器goroutine,等待所有的goroutine返回</span><br>        wg.Wait() <br>        <span class="hljs-built_in">close</span>(sizes) <br>    &#125;()<br><br>    <span class="hljs-keyword">var</span> total <span class="hljs-type">int64</span><br>    <span class="hljs-keyword">for</span> size := <span class="hljs-keyword">range</span> sizes&#123;<br>        total += size<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> total<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="每隔一秒，發送回一個信息"><a href="#每隔一秒，發送回一個信息" class="headerlink" title="每隔一秒，發送回一個信息:"></a>每隔一秒，發送回一個信息:</h4><p>time.Tick(1 * time.Second)</p><h4 id="多個goroutine之間共享數據的方式："><a href="#多個goroutine之間共享數據的方式：" class="headerlink" title="多個goroutine之間共享數據的方式："></a>多個goroutine之間共享數據的方式：</h4><ol><li>通過通信來解決數據共享</li><li>串行綁定</li><li>互斥訪問</li></ol><h4 id="slice擴容"><a href="#slice擴容" class="headerlink" title="slice擴容:"></a>slice擴容:</h4><p>在对slice进行append等操作时，可能会造成slice的自动扩容。其扩容时的大小增长规则是：<br>如果新的大小是当前大小2倍以上，则大小增长为新大小<br>否则循环以下操作：如果当前大小小于1024，按每次2倍增长，否则每次按当前大小1&#x2F;4增长。直到增长的大小超过或等于新大小。</p><h4 id="空串與nil"><a href="#空串與nil" class="headerlink" title="空串與nil:"></a>空串與nil:</h4><p>string的空值是””，它是不能跟nil比较的。<br>即使是空的string，它的大小也是两个机器字长的。<br>slice也类似，它的空值并不是一个空指针，而是结构体中的指针域为空，空的slice的大小也是三个机器字长的。</p><h4 id="defer"><a href="#defer" class="headerlink" title="defer:"></a>defer:</h4><p>其实使用defer时，用一个简单的转换规则改写一下，就不会迷糊了。改写规则是将return语句拆成两句写，return xxx会被改写成:<br>返回值 &#x3D; xxx<br>调用defer函数<br>空的return</p><h4 id="Go实现闭包的基础"><a href="#Go实现闭包的基础" class="headerlink" title="Go实现闭包的基础:"></a>Go实现闭包的基础:</h4><blockquote><p>将闭包环境变量在堆上分配是Go实现闭包的基础。Go语言能通过escape analyze识别出变量的作用域，自动将变量在堆上分配。</p></blockquote><h4 id="goroutine的各种状态变化"><a href="#goroutine的各种状态变化" class="headerlink" title="goroutine的各种状态变化:"></a>goroutine的各种状态变化:</h4><ol><li>在newproc1中新建的goroutine被设置为Grunnable状态</li><li>投入运行时设置成Grunning</li><li>在entersyscall的时候goroutine的状态被设置为Gsyscall</li><li>到出系统调用时根据它是从阻塞系统调用中出来还是非阻塞系统调用中出来，又会被设置成Grunning或者Grunnable的状态。</li><li>在goroutine最终退出的runtime.exit函数中，goroutine被设置为Gdead状态。</li></ol>]]></content>
    
    
    <categories>
      
      <category>golang</category>
      
    </categories>
    
    
    <tags>
      
      <tag>go</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL Extension</title>
    <link href="/2022/08/31/PostgreSQL-Extension/"/>
    <url>/2022/08/31/PostgreSQL-Extension/</url>
    
    <content type="html"><![CDATA[<h2 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h2><ol><li>pg_cron</li><li>pg_repack</li><li>pg_squeeze</li></ol><p>最常用的PostgreSQL擴展<br>Citus<br>ltree<br>pg_prewarm<br>pg_repack<br>pg_stat_statements<br>PostGIS<br>postgres_fdw<br>Swarm64<br>tablefunc<br>TimescaleDB<br>ZomboDB</p><p>pg_cron</p><p>用pg_trgm加速模糊查詢<br>安裝：create extension pg_trgm;<br>創建trgm索引: create index idx_trgm on t_location using GiST(name GiST_trgm_ops)</p><ol><li>相似度計算<blockquote><p>select ‘abcde’ &lt;-&gt; ‘abcdeacb’;<br>explain select * from t_location order by name &lt;-&gt; ‘Kramertneusiedel’</p></blockquote></li><li>加速like查詢<blockquote><p>explain select * from t_location where name like ‘%neusi%’</p></blockquote></li><li>處理正則表達式<blockquote><p>explain select * from t_location where name ~ ‘[A-C].<em>neu.</em>‘;</p></blockquote></li></ol>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL Function And Transaction</title>
    <link href="/2022/08/31/PostgreSQL-Function-And-Transaction/"/>
    <url>/2022/08/31/PostgreSQL-Function-And-Transaction/</url>
    
    <content type="html"><![CDATA[<h2 id="事務與隔離級別"><a href="#事務與隔離級別" class="headerlink" title="事務與隔離級別"></a>事務與隔離級別</h2><h3 id="並發控制"><a href="#並發控制" class="headerlink" title="並發控制"></a>並發控制</h3><p>PostgreSQL通過一組豐富的工具管理對數據的並發訪問。<br>數據一致性通過一種多版本模型(多版本並發控制,MVCC)來維護。<br>這意味著每個SQL語句看到的都只是一小段</p>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL SQL Advance</title>
    <link href="/2022/08/31/PostgreSQL-SQL-Advance/"/>
    <url>/2022/08/31/PostgreSQL-SQL-Advance/</url>
    
    <content type="html"><![CDATA[<h2 id="SQL進階"><a href="#SQL進階" class="headerlink" title="SQL進階"></a>SQL進階</h2><p>分組集 GROUP BY</p><ol><li>分組集    group by field<br>     group by rollup(field),<br>     group by rollup(field1, field2),<br>     group by cube(field1, field2),<br>     group by grouping sets((), field1, field2)<blockquote><p>select region, avg(production) from t_oil group by region;<br>select region, avg(production) from t_oil group by rollup(region)<br>select region, country, avg(production) from t_oil where country in (‘USA’,’Canada’,’Iram’,’Oman’) group by rollup(region, country)<br>select region, country, avg(production) from t_oil where country in (‘USA’,’Canada’,’Iran’,’Oman’) group by cube(region,country)<br>select region, country, avg(production) from t_oil where country in (‘USA’,’Canada’,’Iran’,’Oman’) group by grouping sets((),region,country)</p></blockquote></li><li>組合分組集 與 filter(where condition)<blockquote><p>select region, avg(production) as all, avg(production) filter(where year&lt;1990) as old, avg(production) filter(where year &gt;&#x3D;1990) as new from t_oil group by rollup(region)</p></blockquote></li></ol><p>有序集 WITHIN GROUP</p><ol><li><p>中位數<br>select region, percentile_disc(0.5) within group (order by production) from t_oil group by 1;<br>select region, percentile_disc(0.5) within group (order by production) from t_oil group by rollup(1);</p></li><li><p>有序集與分組集一起使用<br>select region, percentile_disc(0.5) within group (order by production) from t_oil group by rollup(1)</p></li></ol><h3 id="HAVING從句"><a href="#HAVING從句" class="headerlink" title="HAVING從句"></a>HAVING從句</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">SELECT</span> count(*), town <br><span class="hljs-keyword">FROM</span> customer <br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> town <span class="hljs-keyword">HAVING</span> count(*) &gt; <span class="hljs-number">1</span>;<br><br>Count(<span class="hljs-keyword">DISTINCT</span> 列名)<br><span class="hljs-keyword">SELECT</span> count(<span class="hljs-keyword">DISTINCT</span> town) <span class="hljs-keyword">AS</span> &quot;distinct&quot;, count(town) <span class="hljs-keyword">AS</span> &quot;all&quot; <br><span class="hljs-keyword">FROM</span> customer;<br></code></pre></td></tr></table></figure><h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vbnet">v_curr_wrkst_no := <span class="hljs-comment">&#x27;start&#x27;</span><br><span class="hljs-keyword">while</span> v_curr_wrkst_no &lt;&gt; <span class="hljs-comment">&#x27;end&#x27;</span><br><span class="hljs-keyword">loop</span><br><span class="hljs-keyword">select</span> ...<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">not</span> fund <span class="hljs-keyword">then</span><br>    o_resultcode := <span class="hljs-comment">&#x27;500&#x27;;</span><br>    o_resultmsg  := <span class="hljs-comment">&#x27;错误&#x27;;</span><br>    <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>;<br><span class="hljs-keyword">end</span> <span class="hljs-keyword">loop</span>;<br><br><span class="hljs-keyword">for</span> temprow <span class="hljs-keyword">in</span> (<br>    <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> tablename <span class="hljs-keyword">where</span> a=<span class="hljs-number">1</span><br>)<br><span class="hljs-keyword">loop</span><br><span class="hljs-keyword">if</span> a &lt;&gt; b <span class="hljs-keyword">then</span> <br>    ....<br>    <span class="hljs-keyword">return</span>;<br><span class="hljs-keyword">end</span> <span class="hljs-keyword">if</span>;<br><span class="hljs-keyword">end</span> <span class="hljs-keyword">loop</span>;<br></code></pre></td></tr></table></figure><h3 id="递归查询"><a href="#递归查询" class="headerlink" title="递归查询"></a>递归查询</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> digui_test(id <span class="hljs-type">int</span> , pid <span class="hljs-type">int</span> , <span class="hljs-type">name</span> <span class="hljs-type">varchar</span>(<span class="hljs-number">10</span>)); <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span> , <span class="hljs-number">0</span> , <span class="hljs-string">&#x27;a&#x27;</span>); <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , <span class="hljs-string">&#x27;b&#x27;</span>); <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span> , <span class="hljs-number">2</span> , <span class="hljs-string">&#x27;c&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span> , <span class="hljs-number">2</span> , <span class="hljs-string">&#x27;d&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span> , <span class="hljs-number">2</span> , <span class="hljs-string">&#x27;e&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">6</span> , <span class="hljs-number">2</span> , <span class="hljs-string">&#x27;f&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">7</span> , <span class="hljs-number">3</span> , <span class="hljs-string">&#x27;g&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">8</span> , <span class="hljs-number">3</span> , <span class="hljs-string">&#x27;h&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">9</span> , <span class="hljs-number">4</span> , <span class="hljs-string">&#x27;i&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">10</span> , <span class="hljs-number">5</span> , <span class="hljs-string">&#x27;j&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">11</span> , <span class="hljs-number">7</span> , <span class="hljs-string">&#x27;k&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">12</span> , <span class="hljs-number">2</span> , <span class="hljs-string">&#x27;l&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">13</span> , <span class="hljs-number">9</span> , <span class="hljs-string">&#x27;m&#x27;</span>);  <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">14</span> , <span class="hljs-number">9</span> , <span class="hljs-string">&#x27;n&#x27;</span>) ; <br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> digui_test <span class="hljs-keyword">values</span>(<span class="hljs-number">15</span> , <span class="hljs-number">4</span> , <span class="hljs-string">&#x27;o&#x27;</span>);  <br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-comment">--给出一个数据id号，求出其下所有节点的信息</span><br><span class="hljs-keyword">begin</span>;<br><span class="hljs-keyword">with</span> <span class="hljs-keyword">RECURSIVE</span> t <span class="hljs-keyword">as</span><br>(<br><span class="hljs-keyword">select</span> a.id,a.name,a.pid <span class="hljs-keyword">from</span> digui_test a <span class="hljs-keyword">where</span> id=<span class="hljs-number">3</span><br> <span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span><br><span class="hljs-keyword">select</span> k.id,k.name,k.pid  <span class="hljs-keyword">from</span> digui_test k , t c <span class="hljs-keyword">where</span> c.id = k.pid<br> )<br><span class="hljs-keyword">select</span> id,<span class="hljs-type">name</span>,pid <span class="hljs-keyword">from</span> t;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-comment">--求出树深度，路径，是否为环数据</span><br><span class="hljs-keyword">begin</span>;<br><span class="hljs-keyword">with</span> <span class="hljs-keyword">RECURSIVE</span> t(id,<span class="hljs-type">name</span>,pid,depth,<span class="hljs-type">path</span>,<span class="hljs-keyword">cycle</span>) <span class="hljs-keyword">as</span><br>(<br><span class="hljs-keyword">select</span> a.id,a.name,a.pid,<span class="hljs-number">1</span>,<span class="hljs-keyword">array</span>[a.id],<span class="hljs-keyword">false</span> <span class="hljs-keyword">from</span> digui_test a <span class="hljs-keyword">where</span> id=<span class="hljs-number">3</span><br><span class="hljs-keyword">union</span> <span class="hljs-keyword">all</span><br><span class="hljs-keyword">select</span> k.id,k.name,k.pid,c.depth+<span class="hljs-number">1</span>,<span class="hljs-type">path</span>||k.id,k.id=<span class="hljs-keyword">any</span>(<span class="hljs-type">path</span>) <span class="hljs-keyword">from</span> digui_test k , t c <span class="hljs-keyword">where</span> c.id = k.pid <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">cycle</span><br>)<br><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> t;<br><span class="hljs-keyword">end</span>;<br></code></pre></td></tr></table></figure><hr><h3 id="Explain"><a href="#Explain" class="headerlink" title="Explain"></a>Explain</h3><p>select *<br>from sfc_scan_master_params_d<br>where request_id in (<br>    select t2.request_id<br>    from del_code_info t1<br>    inner join sfc_scan_master_params t2 on t1.bar_uuid &#x3D; t2.bar_uuid<br>    where del_lot &#x3D; ‘5’<br>);</p><p>Gather  (cost&#x3D;9423.40..36679638.18 rows&#x3D;439194 width&#x3D;71)<br>  Workers Planned: 2<br>  -&gt;  Parallel Hash Semi Join  (cost&#x3D;9423.40..36679638.18 rows&#x3D;182998 width&#x3D;71)<br>        Hash Cond: (sfc_scan_master_params_d.request_id &#x3D; (t2.request_id)::text)<br>        -&gt;  Parallel Seq Scan on sfc_scan_master_params_d  (cost&#x3D;0.00..34446288.70 rows&#x3D;846434370 width&#x3D;71)<br>        -&gt;  Parallel Hash  (cost&#x3D;9300.61..9300.61 rows&#x3D;9823 width&#x3D;38)<br>              -&gt;  Nested Loop  (cost&#x3D;48.51..9300.61 rows&#x3D;9823 width&#x3D;38)<br>                    -&gt;  Parallel Bitmap Heap Scan on del_code_info t1  (cost&#x3D;47.95..2054.67 rows&#x3D;1178 width&#x3D;8)<br>                          Recheck Cond: ((del_lot)::text &#x3D; ‘5’::text)<br>                          -&gt;  Bitmap Index Scan on indx_del_code_04  (cost&#x3D;0.00..47.45 rows&#x3D;2002 width&#x3D;0)<br>                                Index Cond: ((del_lot)::text &#x3D; ‘5’::text)<br>                    -&gt;  Index Scan using idx_sfc_scan_master_params_01 on sfc_scan_master_params t2  (cost&#x3D;0.57..6.07 rows&#x3D;8 width&#x3D;46)<br>                          Index Cond: ((bar_uuid)::text &#x3D; (t1.bar_uuid)::text)</p><p>set enable_seqscan &#x3D; off;<br>set enable_parallel_hash &#x3D; off;<br>Nested Loop  (cost&#x3D;9343.06..363482435.95 rows&#x3D;439198 width&#x3D;71)<br>  -&gt;  HashAggregate  (cost&#x3D;9342.36..9509.35 rows&#x3D;16699 width&#x3D;38)<br>        Group Key: (t2.request_id)::text<br>        -&gt;  Gather  (cost&#x3D;48.51..9300.61 rows&#x3D;16699 width&#x3D;38)<br>              Workers Planned: 1<br>              -&gt;  Nested Loop  (cost&#x3D;48.51..9300.61 rows&#x3D;9823 width&#x3D;38)<br>                    -&gt;  Parallel Bitmap Heap Scan on del_code_info t1  (cost&#x3D;47.95..2054.67 rows&#x3D;1178 width&#x3D;8)<br>                          Recheck Cond: ((del_lot)::text &#x3D; ‘5’::text)<br>                          -&gt;  Bitmap Index Scan on indx_del_code_04  (cost&#x3D;0.00..47.45 rows&#x3D;2002 width&#x3D;0)<br>                                Index Cond: ((del_lot)::text &#x3D; ‘5’::text)<br>                    -&gt;  Index Scan using idx_sfc_scan_master_params_01 on sfc_scan_master_params t2  (cost&#x3D;0.57..6.07 rows&#x3D;8 width&#x3D;46)<br>                          Index Cond: ((bar_uuid)::text &#x3D; (t1.bar_uuid)::text)<br>  -&gt;  Index Scan using idx_sfc_scan_master_params_d_01 on sfc_scan_master_params_d  (cost&#x3D;0.70..21364.42 rows&#x3D;40173 width&#x3D;71)<br>        Index Cond: (request_id &#x3D; (t2.request_id)::text)</p><ol><li>執行查詢時，內存調用模型</li><li>流複製的配置和原理</li></ol>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PostgreSQL SQL Base</title>
    <link href="/2022/08/31/PostgreSQL-SQL-Base/"/>
    <url>/2022/08/31/PostgreSQL-SQL-Base/</url>
    
    <content type="html"><![CDATA[<h2 id="SQL基礎"><a href="#SQL基礎" class="headerlink" title="SQL基礎"></a>SQL基礎</h2><h3 id="數據類型"><a href="#數據類型" class="headerlink" title="數據類型"></a>數據類型</h3><h4 id="一、复合类型"><a href="#一、复合类型" class="headerlink" title="一、复合类型"></a>一、复合类型</h4><p><a href="https://pan.baidu.com/s/1fC7YlPgUgHBMEMQKPE_TYg">https://pan.baidu.com/s/1fC7YlPgUgHBMEMQKPE_TYg</a></p><h4 id="二、Serial类型"><a href="#二、Serial类型" class="headerlink" title="二、Serial类型"></a>二、Serial类型</h4><p>对于一个表的主键可以使用Serial数据类型自动生成自增主键<br>当一个数据类型被定义为Serial数据类型后，其默认值为nextval(“tablename_columnname_seq”)</p><blockquote><p>序列的操作<br>select currval(‘tablename_columnname_seq’)       获取当前自增主键的值<br>select nextval(‘tablename_columnname_seq’)       手动自增主键<br>select setval(‘tablename_columnname_seq’, value) 手动设置自增主键的当前值</p></blockquote><h4 id="三、日期時間"><a href="#三、日期時間" class="headerlink" title="三、日期時間"></a>三、日期時間</h4><h5 id="date"><a href="#date" class="headerlink" title="date"></a>date</h5><p>例子  描述<br>1999-01-08  ISO 8601; 任何模式下的1月8日 （推荐格式）<br>January 8, 1999   在任何datestyle输入模式下都无歧义<br>1&#x2F;8&#x2F;1999    MDY模式中的1月8日；DMY模式中的8月1日<br>1&#x2F;18&#x2F;1999   MDY模式中的1月18日；在其他模式中被拒绝<br>01&#x2F;02&#x2F;03    MDY模式中的2003年1月2日； DMY模式中的2003年2月1日； YMD模式中的2001年2月3日<br>1999-Jan-08 任何模式下的1月8日<br>Jan-08-1999 任何模式下的1月8日<br>08-Jan-1999 任何模式下的1月8日<br>99-Jan-08   YMD模式中的1月8日，否则错误<br>08-Jan-99   1月8日，除了在YMD模式中错误<br>Jan-08-99   1月8日，除了在YMD模式中错误<br>19990108    ISO 8601; 任何模式中的1999年1月8日<br>990108      ISO 8601; 任何模式中的1999年1月8日<br>1999.008    年和一年中的日子<br>J2451187    儒略日期<br>January 8, 99 BC  公元前99年</p><h5 id="time"><a href="#time" class="headerlink" title="time"></a>time</h5><p>例子  描述<br>04:05:06.789      ISO 8601<br>04:05:06    ISO 8601<br>04:05 ISO 8601<br>040506      ISO 8601<br>04:05 AM    和04:05一样，AM并不影响值<br>04:05 PM    和16:05一样，输入的小时必须为 &lt;&#x3D; 12<br>04:05:06.789-8    ISO 8601<br>04:05:06-08:00    ISO 8601<br>04:05-08:00 ISO 8601<br>040506-08   ISO 8601<br>04:05:06 PST      缩写指定的时区<br>2003-04-12 04:05:06 America&#x2F;New_York      全名指定的时区</p><h5 id="time-zone"><a href="#time-zone" class="headerlink" title="time zone"></a>time zone</h5><p>PST   缩写（太平洋标准时间）<br>America&#x2F;New_York  完整时区名<br>PST8PDT     POSIX风格的时区声明<br>-8:00 PST的ISO-8601偏移<br>-800  PST的ISO-8601偏移<br>-8    PST的ISO-8601偏移<br>zulu  UTC的军方缩写<br>z     zulu的短形式</p><h5 id="特殊的date-x2F-time"><a href="#特殊的date-x2F-time" class="headerlink" title="特殊的date&#x2F;time"></a>特殊的date&#x2F;time</h5><p>epoch date, timestamp   1970-01-01 00:00:00+00（Unix系统时间0）<br>infinity    date, timestamp   比任何其他时间戳都晚<br>-infinity   date, timestamp   比任何其他时间戳都早<br>now   date, time, timestamp   当前事务的开始时间<br>today date, timestamp   今日午夜 (00:00)<br>tomorrow    date, timestamp   明日午夜 (00:00)<br>yesterday   date, timestamp   昨日午夜 (00:00)<br>allballs    time  00:00:00.00 UTC</p><h5 id="interval"><a href="#interval" class="headerlink" title="interval"></a>interval</h5><p>例子  描述<br>1-2   SQL标准格式：1年2个月<br>3 4:05:06   SQL标准格式：3日4小时5分钟6秒<br>1 year 2 months 3 days 4 hours 5 minutes 6 seconds    传统Postgres格式：1年2个月3日4小时5分钟6秒钟<br>P1Y2M3DT4H5M6S    “带标志符的”ISO 8601 格式：含义同上<br>P0001-02-03T04:05:06    ISO 8601 的“替代格式”：含义同上</p><h5 id="時間日期操作符"><a href="#時間日期操作符" class="headerlink" title="時間日期操作符"></a>時間日期操作符</h5><ul><li>+ date ‘2001-09-28’ + integer ‘7’ date ‘2001-10-05’</li><li>+ date ‘2001-09-28’ + interval ‘1 hour’ timestamp ‘2001-09-28 01:00:00’</li><li>+ date ‘2001-09-28’ + time ‘03:00’ timestamp ‘2001-09-28 03:00:00’</li><li>+ interval ‘1 day’ + interval ‘1 hour’ interval ‘1 day 01:00:00’</li><li>+ timestamp ‘2001-09-28 01:00’ + interval ‘23 hours’ timestamp ‘2001-09-29 00:00:00’</li><li>+ time ‘01:00’ + interval ‘3 hours’ time ‘04:00:00’</li><li>- interval ‘23 hours’ interval ‘-23:00:00’</li><li>- date ‘2001-10-01’ - date ‘2001-09-28’ integer ‘3’ (days)</li><li>- date ‘2001-10-01’ - integer ‘7’ date ‘2001-09-24’</li><li>- date ‘2001-09-28’ - interval ‘1 hour’ timestamp ‘2001-09-27 23:00:00’</li><li>- time ‘05:00’ - time ‘03:00’ interval ‘02:00:00’</li><li>- time ‘05:00’ - interval ‘2 hours’ time ‘03:00:00’</li><li>- timestamp ‘2001-09-28 23:00’ - interval ‘23 hours’ timestamp ‘2001-09-28 00:00:00’</li><li>- interval ‘1 day’ - interval ‘1 hour’ interval ‘1 day -01:00:00’</li><li>- timestamp ‘2001-09-29 03:00’ - timestamp ‘2001-09-27 12:00’ interval ‘1 day 15:00:00’</li><li>* 900 * interval ‘1 second’ interval ‘00:15:00’</li><li>* 21 * interval ‘1 day’ interval ‘21 days’</li><li>* double precision ‘3.5’ * interval ‘1 hour’ interval ‘03:30:00’</li><li>/ interval ‘1 hour’ &#x2F; double precision ‘1.5’ interval ‘00:40:00’</li></ul><h5 id="時間日期操作函數"><a href="#時間日期操作函數" class="headerlink" title="時間日期操作函數"></a>時間日期操作函數</h5><ul><li>age 計算兩個時刻的間隔</li></ul><ol><li>timestamp1-timestamp2的时间间隔<br>age(timestamp1, timestamp2)<br>select age(timestamp ‘2021-05-10 10:00:00’, timestamp ‘2021-04-29 17:00:00’)</li><li>当前时间到timestamp的时间间隔<br>age(timestamp)<br>select age(timestamp ‘2021-03-10 15:00:00’)</li></ol><ul><li>now 獲取當前日期時間的十种方式</li></ul><ol><li><p>clock_timestamp() –實時時間, 可以认为这是唯一一个实时时间，其他的都是事务开始时间</p></li><li><p>timeofday() –據說是實時時間</p></li><li><p>transaction_timestamp()  –事務開始時間</p></li><li><p>current_date   –事务开始日期(服务器)</p></li></ol><p>–事务开始时间<br>7. current_time<br>8. current_time(precision)<br>9. localtime<br>10. localtime(precision)</p><ol start="11"><li><p>current_timestamp –事務開始時間(服务器)</p></li><li><p>current_timestamp(precision)</p></li><li><p>localtimestamp</p></li><li><p>localtimestamp(precision)</p></li><li><p>statement_timestamp() –事務開始時間</p></li><li><p>now()   –事務開始時間</p></li></ol><ul><li><p>時間解析<br>date_part(text,timestamp)<br>date_part(text,interval)<br>extract(field from timestamp)<br>extract(field from interval)</p></li><li><p>降低精度<br>date_trunc(text,timestamp)<br>date_trunc(text,timestamp with time zone, text)<br>date_trunc(text,interval)</p></li><li><p>判斷是否是有限時間<br>isfinite(date)<br>isfinite(timestamp)<br>isfinite(interval)</p></li><li><p>調整為標準格式<br>justify_days(interval)<br>justify_hours(interval)<br>justigy_interval(interval)</p></li><li><p>創建時間<br>make_date(year int,month int,day int)<br>make_interval(year int DEFAULT 0, months int DEFAULT 0, weeks int DEFAULT 0, days int DEFAULT 0, hours int DEFAULT 0, mins int DEFAULT 0, secs double precision DEFAULT 0.0)<br>make_time(hour int, min int, sec double precision)<br>make_timestamp(year int, month int, day int, hour int, min int, sec double precision)<br>make_timestamptz(year int, month int, day int, hour int, min int, sec double precision, [ timezone text ])<br>to_timestamp(double precision)</p></li><li><p>覆蓋檢查<br>(start1, end1) OVERLAPS (start2, end2)<br>(start1, length1) OVERLAPS (start2, length2)</p></li></ul><h5 id="用于日期-x2F-时间格式化的模板模式"><a href="#用于日期-x2F-时间格式化的模板模式" class="headerlink" title="用于日期&#x2F;时间格式化的模板模式"></a>用于日期&#x2F;时间格式化的模板模式</h5><ul><li>HH 一天中的小时 （01-12）</li><li>HH12 一天中的小时 （01-12）</li><li>HH24 一天中的小时 （00-23）</li><li>MI 分钟 （00-59）minute (00-59)</li><li>SS 秒（00-59）</li><li>MS 毫秒（000-999）</li><li>US 微秒（000000-999999）</li><li>SSSS 午夜后的秒（0-86399）</li><li>AM, am, PM or pm 正午指示器（不带句号）</li><li>A.M., a.m., P.M. or p.m. 正午指示器（带句号）</li><li>Y,YYY 带逗号的年（4 位或者更多位）</li><li>YYYY 年（4 位或者更多位）</li><li>YYY 年的后三位</li><li>YY 年的后两位</li><li>Y 年的最后一位</li><li>IYYY ISO 8601 周编号方式的年（4 位或更多位）</li><li>IYY ISO 8601 周编号方式的年的最后 3 位</li><li>IY ISO 8601 周编号方式的年的最后 2 位</li><li>I ISO 8601 周编号方式的年的最后一位</li><li>BC, bc, AD或者ad 纪元指示器（不带句号）</li><li>B.C., b.c., A.D.或者a.d. 纪元指示器（带句号）</li><li>MONTH 全大写形式的月名（空格补齐到 9 字符）</li><li>Month 全首字母大写形式的月名（空格补齐到 9 字符）</li><li>month 全小写形式的月名（空格补齐到 9 字符）</li><li>MON 简写的大写形式的月名（英文 3 字符，本地化长度可变）</li><li>Mon 简写的首字母大写形式的月名（英文 3 字符，本地化长度可变）</li><li>mon 简写的小写形式的月名（英文 3 字符，本地化长度可变）</li><li>MM 月编号（01-12）</li><li>DAY 全大写形式的日名（空格补齐到 9 字符）</li><li>Day 全首字母大写形式的日名（空格补齐到 9 字符）</li><li>day 全小写形式的日名（空格补齐到 9 字符）</li><li>DY 简写的大写形式的日名（英语 3 字符，本地化长度可变）</li><li>Dy 简写的首字母大写形式的日名（英语 3 字符，本地化长度可变）</li><li>dy 简写的小写形式的日名（英语 3 字符，本地化长度可变）</li><li>DDD 一年中的日（001-366）</li><li>IDDD ISO 8601 周编号方式的年中的日（001-371，年的第 1 日时第一个 ISO 周的周一）</li><li>DD 月中的日（01-31）</li><li>D 周中的日，周日（1）到周六（7）</li><li>ID 周中的 ISO 8601 日，周一（1）到周日（7）</li><li>W 月中的周（1-5）（第一周从该月的第一天开始）</li><li>WW 年中的周数（1-53）（第一周从该年的第一天开始）</li><li>IW ISO 8601 周编号方式的年中的周数（01 - 53；新的一年的第一个周四在第一周）</li><li>CC 世纪（2 位数）（21 世纪开始于 2001-01-01）</li><li>J 儒略日（从午夜 UTC 的公元前 4714 年 11 月 24 日开始的整数日数）</li><li>Q 季度（to_date和to_timestamp会忽略）</li><li>RM 大写形式的罗马计数法的月（I-XII；I 是 一月）</li><li>rm 小写形式的罗马计数法的月（i-xii；i 是 一月）</li><li>TZ 大写形式的时区缩写（仅在to_char中支持）</li><li>tz 小写形式的时区缩写（仅在to_char中支持）</li><li>TZH 时区的小时</li><li>TZM 时区的分钟</li><li>OF 从UTC开始的时区偏移（仅在to_char中支持）</li></ul><h4 id="四、JSON-x2F-JSONP"><a href="#四、JSON-x2F-JSONP" class="headerlink" title="四、JSON&#x2F;JSONP"></a>四、JSON&#x2F;JSONP</h4><h3 id="三、常用運算符與函數"><a href="#三、常用運算符與函數" class="headerlink" title="三、常用運算符與函數"></a>三、常用運算符與函數</h3><h4 id="邏輯运算符"><a href="#邏輯运算符" class="headerlink" title="邏輯运算符"></a>邏輯运算符</h4><ol><li><p>逻辑： and or not</p></li><li><p>比较： &lt; &gt; &lt;&#x3D; &gt;&#x3D; &#x3D;  &lt;&gt; or !&#x3D;</p></li><li><p>测试区间<br>a BETWEEN x AND y<br>a NOT BETWEEN x AND y<br>a BETWEEN SYMETRIC x AND y<br>a NOT BETWEEN SYMETRIC x AND y</p></li><li><p>测试任意数据类型(包括null)相等<br>a IS DISTINCT FROM b          –不等于<br>a IS NOT DISTINCT FROM b –等于<br>相较于 &#x3D;和&lt;&gt;，比较的更加彻底，将null当做普通值处理，<br>&#x3D;和&lt;&gt;作比较时，只要有一个参数为null，就返回null</p></li><li><p>测试任意数据类型是否为空<br>expression IS NULL<br>expression IS NOT NULL</p></li><li><p>测试布尔值<br>boolean_expression IS TRUE<br>boolean_expression IS NOT TRUE<br>boolean_expression IS FALSE<br>boolean_expression IS NOT FALSE<br>boolean_expression IS UNKNOWN<br>noolean_expression IS NOT UNKNOWN</p></li><li><p>非空數量測試<br>num_nonnulls(VARIADIC “any”) 返回非空参数的数量 num_nonnulls(1,NULL,2)&#x3D;2<br>num_nulls(VARIADIC “any”) 返回空参数的数量 num_nulls(1,NULL,2)&#x3D;1</p></li><li><p>注意<br>a IS DISTINCT FROM b<br>a IS NOT DISTINCT FROM b<br>相较于 &#x3D;和&lt;&gt;，比较的更加彻底，将null当做普通值处理，<br>&#x3D;和&lt;&gt;作比较时，只要有一个参数为null，就返回null</p></li></ol><h4 id="数学運算符及函數"><a href="#数学運算符及函數" class="headerlink" title="数学運算符及函數"></a>数学運算符及函數</h4><ol><li><p>運算符<br>+加 -減 *乘 &#x2F;除 %求餘 ^冪<br>|&#x2F;    平方根   |&#x2F;25.0    5<br>||&#x2F;    立方根    |&#x2F;27.0    3<br>!    阶乘    5！    120<br>!!    前缀阶乘    !!5    120<br>@    绝对值    @ -5.0    5<br>&amp;    按位与    91&amp;15    11<br>|    按位或    32|3    35<br>‘#’    按位异或    17#5    20<br>~     按位求反    ~1    -2<br>&lt;&lt;   按位左移     1&lt;&lt;4    16</p><blockquote><blockquote><p>   按位右移    8&gt;&gt;2    2</p></blockquote></blockquote></li><li><p>常數、四則運算、隨機數<br>pi()<br>div(y numeric, x numeric) y&#x2F;x的整數商<br>abs(x)  絕對值<br>mod(y,x) y&#x2F;x的餘數<br>random() 返回範圍為0.0&lt;&#x3D;x&lt;1.0中的隨機值，使用了一個簡單的線性共軛算法。它的速度很快，但是不適合于密碼學的應用；關於更安全的替代方案，參閱pgcrypto模塊。如果setseed()被調用，那麼當前會話中的後續random()調用的結果可以通過使用相同的參數重新發佈setseed()來重複。<br>setseed(dp) 為後續的random()調用設置種子(值位於-1.0和1.0之間，包括邊界值)</p></li><li><p>指數對數<br>power(a numeric or dp, b numeric or dp) 求a的b次冪<br>exp(x dp or numeric) e的x次方<br>sqrt(dp or numeric) 平方根<br>cbrt(dp) 立方根<br>ln(dp or numeric) 自然對數<br>log10(dp or numeric) 以10為底的對數<br>log(b numeric, x numeric) 以b為底的對數</p></li><li><p>數據修整<br>ceil(dp or numeric) 不小於參數的最近整數<br>floor(dp or numeric) 不大於參數的最近的整數<br>round(dp or numeric) 圓整為最近的整數<br>round(v numeric, s int) 圓整為s位小數的數字<br>trunc(dp or numeric) 截斷(向零靠近)<br>trunc(v numeric, s int)截斷為s位小數位置的數字<br>scale(numeric) 參數的精度(小數點後的位數)</p></li><li><p>柱狀圖函數<br>width_bucket(op dp, b1 dp, b2 dp, count int) 返回一個桶號，這個桶是在一個柱狀圖中operand將被分配的那個桶，該柱狀圖有count個散佈在範圍b1到b2上的等寬桶。對於超過該範圍的輸入，將返回0或者count+1<br>width_bucket(op numeric, b1 numeric, b2 numeric, count int) 返回一個桶號，這個桶是在一個柱狀圖中operand將被分配的那個桶，該柱狀圖有count個散佈在範圍b1到b2上的等寬桶。對於超過該範圍的輸入，將返回0或者count+1<br>with_bucker(operand anyelement, thresholds anyarray) 返回一個桶號，這個桶是在給定數組中operand將被分配的桶，該數組列出了桶的下屆。對於一個低於第一個下界的輸入返回0。threholds數組必須被排好序，最小的排在最前面，否則將會得到意想不到的結果。</p></li><li><p>三角函數<br>degrees(dp) 把弧度轉為角度<br>radians(dp) 把角度轉為弧度<br>sin(x) 正弦(弧度)<br>sind(x) 正弦(角度)<br>cos(x) 餘弦(弧度)<br>cosd(x) 餘弦(角度)<br>tan(x) 正切(弧度)<br>tand(x) 正切(角度)<br>cot(x) 餘切 (弧度)<br>cotd(x) 餘切(角度)<br>asin(x) 反正弦(弧度)<br>asind(x) 反正弦(角度)<br>acos(x) 反餘弦(弧度)<br>acosd(x) 反餘弦(角度)<br>atan(x) 反正切(弧度)<br>atand(x) 反正切(角度)<br>atan2(y,x) y&#x2F;x的反正切(弧度)<br>atan2d(y,x) y&#x2F;x的反正切(角度)<br>使用基於角度的三角函數更好，因為可以避免sind(30)等特殊情況下的舍入偏差</p></li><li><p>雙曲函數<br>sinh(x) 雙曲正弦<br>cosh(x) 雙曲餘弦<br>tanh(x) 雙曲切線<br>asinh(x) 反雙曲正弦<br>acosh(x) 反雙曲餘弦<br>atanh(x) 反雙曲切線</p></li></ol><h4 id="字符串函數及操作符"><a href="#字符串函數及操作符" class="headerlink" title="字符串函數及操作符"></a>字符串函數及操作符</h4><ol><li><p>字符串檢查、子串定位、子串替換<br>starts_with(string,prefix) 如果string以prefix開始則返回真 starts_with(‘alphabet’,’alph’) t<br>position(substring in string)<br>strpos(string,substring) 指定子串的位置(和position(substring in string)相同)，只是參數順序相反 strpos(‘high’,’ig’) 2<br>replace(string text, from text, to text) 將string中出現的所有子串from替換為子串to replace(‘abcdefabcdef’,’cd’,’XX’) abXXefabXXef<br>overlay(string placing string from int [for int]) 替換子串</p></li><li><p>字符串長度<br>length(string) 獲取string中的字符數 length(‘jose’) 4<br>length(string bytea, encoding name) string在給定編碼中的字符數。string必須在這個編碼中有效 length(‘jose’,’UTF8’) 4<br>bit_length(string)<br>octet_length(string) 串中的字節數<br>char_length(string)<br>character_length(string)</p></li><li><p>字符串拼接、分割<br>string || string<br>string || non-string<br>non-string || string<br>concat(str “any” [,str “any” [, …]])任意字符串拼接<br>concat_ws(sep text, str “any” [, str “any” [, …]]) 用第一個參數將後續的字符串分隔，NULL被忽略<br>repeat(string text, number int) 重複string指定number次 repeat(‘Pg’,4) PgPgPgPg<br>split_part(string text, delimiter text, field int) 按delimiter劃分string並返回給定域(從1開始計算) split_part(‘abc”@”def”@”ghi’,’”@”‘,2) def<br>string_agg 聚合</p></li><li><p>字符串截取<br>substring(string [from int] [for int])<br>substring(string from pattern)<br>substring(string from pattern for escape)<br>substr(string, from [, count]) 提取子串(與substring(string from fromStr for count) 相同) substr(‘alphabet’,3,2) ph<br>left(str text, n int) 截取字符串的前n個字符，n為負數時，將返回除了最後|n|個字符之外的所有字符（從右往左截取）。<br>right(str text, n text) 返回字符串中最後n個字符。如果n為負，返回除最前|n|個字符外的所有字符，截取右側n個字符，如果n為負數則從左側開始截取 right(‘abcde’, 2) de </p></li><li><p>字符串修剪、補空<br>trim([leading | trailing | both] [characters] from string)<br>trim([leading | trailing | both] [from] string [,characters])<br>btrim(‘xyxtrimyyx’,’xyz’) –trim   全串trim<br>ltrim(string text [, characters text]) 左側trim ltrim(‘zzzytest’,’xyz’) test<br>rtrim(string text, [, characters text]) 右側截取<br>lpad(string text, length in [, fill text]) 將string通過前置字符fill(默認是一個空格)填充到長度length。如果string長度已經長於length,則它被(從右邊)截斷。(在左邊補空格至指定位數)  lpad(‘hi’,5,’xy’) xyxhi<br>rpad(string text, length int [, fill text]) 右側部齊，多則截取</p></li><li><p>字符串編解轉碼<br>ascii(‘x’)  –120解碼ascii<br>to_ascii(string text [, encoding text]) 將string從另一個編碼轉換到ASCII(只支持從LATIN1\LATIN2\LATIN9和WIN1250編碼的轉化) to_ascii(‘Karel’) Karel<br>to_hex(number int or bigint) 將number轉換到它等效的十六進制表示 to_hex(2147483647) 7fffffff<br>char(65) –A 將int裝換為對應的ascii  char<br>convert(string bytea, src_encoding name, dest_encoding name)轉換字符串的編碼格式 convert(‘text_in_utf8’,’UTF8’,’LATIN1’)<br>convert_from(string bytea,src_encoding name) 將字符串轉換為當前數據庫編碼格式 convert_from(‘text_in_utf8’,’UTF8’)<br>convert_to(string text, dest_encoding name)將字符串轉換為dest_encoding convert_to(‘some text’,’UTF8’)<br>pg_client_encoding() 當前客戶端編碼的名字 pg_client_encoding() SQL_ASCII<br>decode(string text, format text) 從string文本解碼二進制數據(可以用來做base64解碼) decode(‘MTIzAAE&#x3D;’,’base64’) \x3132330001<br>encode(data bytea, format text)將二進制數據編碼成一個文本string,支持的格式有base64,hex,escape。其中escape將零字節和高位組字節轉換為八進制序列(\nnn)和雙鞋的反斜線。 encode(‘123\000\001’,’base64’) MTIzAAE&#x3D;<br>md5(string) 計算string的MD5哈希，返回十六進制的結果 md5(‘abc’) 900…f72<br>translate(string text, from text, to text) string中任何匹配from集合的一個字符的字符會被替換成to集合中的相應字符。如果from比to長，from中的額外字符會被刪除。 translate(‘12345’,’143’,’ax’) a2x5</p></li><li><p>字符串變形和格式化<br>lower(string)<br>upper(string)<br>initcap(string) 將每一個詞的第一個字符裝換為大寫，其他的字母轉換為小寫。詞是由非字母數字字符分隔的字母數字字符序列 initcap(‘hi THOMAS’) Hi Thomas<br>format(formatstr text [, formatarg “any” [, …]]) 根據格式字符串格式化參數。該函數和C函數的sprintf類似 format(‘Hello %s, %1$s’, ‘World’) Hello World, World<br>reverse(str) 返回反轉的字符串 reverse(‘abcde’) edcba</p></li><li><p>標識符加去引號<br>quote_ident(string text) 加引號 quote_ident(‘Foo bar’)  “Foo bar”<br>quote_literal(value anyelement) 強迫給定值為文本，並且接著將他用引號包圍作為一個文本。嵌入的單引號和反斜線被正確的雙寫。 quote_literal(42.5) ‘42.5’<br>quote_nullable(string text) 將給定字符串返回成合適的引用形式，使它可以在一個SQL語句字符串中被用作一個字符串文字；如果參數為空，返回字符串NULL。 quote_nullable(NULL) NULL(字符串)<br>quote_nullable(value anyelement) 強迫給定值為文本，並加引號; 參數為NULL時返回字符串NULL  quote_nullable(43.5) ‘43.5’<br>parse_ident(qualified_identifier text [, strictmode boolean DEFALUT true])  解析標識符，去掉引號，模式為strict時會將多餘字符報錯。 parse_ident(‘“SomeSchema”.someTable’) {SomeSchema, sometable}</p></li><li><p>正則匹配和分割<br>regexp_match(string text, pattern text [, flags text]) 返回一個POSIX正則表達式與string的第一個posix正則表達式與string的第一個匹配得到的子串 regexp_match(‘foobarbequebaz’,’(bar)(beque)’) {bar, beque}<br>regexp_matches(string text, pattern text [, flags text]) 返回一個POSIX正則表達式與string匹配得到的子串。 regexp_matches(‘foobarbequebaz’,’ba.’,’g’) 返回兩行<br>regexp_replace(string text, pattern text, replacement text [, flags text]) 替換匹配一個POSIX正則表達式的子串。 regexp_replace(‘Thomas’,’.[mN]a.’,’M’) ThM<br>regexp_split_to_array(string text, pattern text [, flags text]) 使用一個POSIX正則表達式作為分隔符劃分string。 regexp_split_to_array(‘hello world’,’\s+’) {hello, world}<br>regexp_split_to_table(string text, pattern text [, flags text]) 使用一個POSIX正則表達式作為分隔符劃分stirng  regexp_split_to_table(‘hello world’, ‘\s+’) 兩行</p></li></ol><hr>]]></content>
    
    
    <categories>
      
      <category>database</category>
      
    </categories>
    
    
    <tags>
      
      <tag>postgresql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker Commands</title>
    <link href="/2022/08/31/Docker-Commands/"/>
    <url>/2022/08/31/Docker-Commands/</url>
    
    <content type="html"><![CDATA[<p>docker search image-name<br>docker pull image-name:version<br>docker images<br>docker run image-name:version<br>Docker run -d image-name:version<br>Docker run -d -p6000:6327 image-name:version<br>docker run -d -p60001:6379 –name redid-older redis:4.0<br>docker run -id –privileged&#x3D;true -p 13012:3012 -p 13001:3001 -v f:\workspace:&#x2F;home&#x2F;host_workspace –name my_centos mycentos:0.01<br>docker run -id -p 13012:3012 -p 13001:3001 -v f:\workspace:&#x2F;home&#x2F;host_workspace –name my_centos mycentos:0.01 &#x2F;usr&#x2F;sbin&#x2F;init<br>docker run -d -p 27018:27017 -e MONGO_INITDB_ROOT_USERNAME&#x3D;admin -e MONGO_INITDB_PASSWORD&#x3D;password –name mongodb –net mongo-network mongo<br>-i              Keep STDIN open even if not attached<br>-d              Run container in background and print container ID<br>–privileged    Give extended privileges to this container<br>-p              Publish a container’s port(s) to the host<br>-v              Bind mount a volume<br>–name          Assign a name to the container</p><p>docker exec -it container-id &#x2F;bin&#x2F;bash</p><p>Docker start container-id<br>Docker stop container-id #停止後，容器狀態會保持<br>Docker ps<br>Docker ps -a</p><p>Docker logs container-id<br>Docker logs container-id | tail<br>Docker logs container-id  -f</p><p>docker commit c3f279d17e0a  svendowideit&#x2F;testimage:version3<br>Docker network ls<br>Docker network create mongo-network</p><p>Docker logs container-id<br>Docker logs container-id | tail<br>Docker logs container-id  -f</p><p>Docker compose<br>Docker-compose -f mongo.yaml up<br>Docker-compose -f mongo.yaml down<br>mongo.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;3&#x27;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">mongodb:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mongo</span><br>    <span class="hljs-attr">ports:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">27018</span><span class="hljs-string">:27017</span><br>    <span class="hljs-attr">environment:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">MONGO_INITDB_ROOT_USERNAME=admin</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">MONGO_INITDB_ROOT_PASSWORD=password</span><br>  <span class="hljs-attr">mongo-express:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">mongo-express</span><br>    <span class="hljs-attr">ports:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-number">8080</span><span class="hljs-string">:8081</span><br>    <span class="hljs-attr">environment:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">ME_CONFIG_MONGODB_ADMINUSERNAME=admin</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">ME_CONFIG_MONGODB_ADMINPASSWORD=password</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">ME_CONFIG_MONGODB_SERVER=mongodb</span><br></code></pre></td></tr></table></figure><p>Docker-compose -f docker-compose.yaml up   &#x2F;&#x2F;image创建成功后，就可以使用Docker-compose来批量的启动服务<br>Docker-compose -f docker-compose.yaml down   &#x2F;&#x2F;如果需要修改image，那么先使用docker-compose来down所有的服务</p><p>Dockerfile</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dockerfile"><span class="hljs-keyword">FROM</span> node:<span class="hljs-number">13</span>-alpine<br><span class="hljs-keyword">ENV</span> MONGO_DB_USERNAME=admin \<br>    MONGO_DB_PWD=password<br><span class="hljs-keyword">RUN</span><span class="language-bash"> <span class="hljs-built_in">mkdir</span> -p /home/app</span><br><span class="hljs-keyword">COPY</span><span class="language-bash"> ./app /home/app</span><br><span class="hljs-keyword">WORKDIR</span><span class="language-bash"> /home/app</span><br><span class="hljs-keyword">CMD</span><span class="language-bash"> [<span class="hljs-string">&quot;node&quot;</span>,<span class="hljs-string">&quot;server.js&quot;</span>]</span><br></code></pre></td></tr></table></figure><p>RUN 和 CMD的区别：CMD仅运行docker的继承线最后一个，被继承的Dockerfile中的CMD不会被运行。RUN无论处于被继承的image中还是最后的image中，都会被执行。</p><p>Docker build -t my-app:1.0 .<br>Docker rmi my-app:1.0   &#x2F;&#x2F;删除之前docker build的image</p><p>Docker Volumes<br>3 Volume types:<br>Host volume: Docker run -v &#x2F;home&#x2F;mount&#x2F;data:&#x2F;var&#x2F;libe&#x2F;mysql&#x2F;data<br>Anonymous Voulume: Docker run -v &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;data<br>Named volumes: docker run -v name:&#x2F;var&#x2F;lib&#x2F;mysql&#x2F;data</p><p>windows環境下，配置docker容器代理：<br>~&#x2F;.docker&#x2F;config.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br> <span class="hljs-attr">&quot;proxies&quot;</span><span class="hljs-punctuation">:</span><br> <span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;default&quot;</span><span class="hljs-punctuation">:</span><br>   <span class="hljs-punctuation">&#123;</span><br>     <span class="hljs-attr">&quot;httpProxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://192.168.1.12:3128&quot;</span><span class="hljs-punctuation">,</span><br>     <span class="hljs-attr">&quot;httpsProxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;http://192.168.1.12:3128&quot;</span><span class="hljs-punctuation">,</span><br>     <span class="hljs-attr">&quot;noProxy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;*.test.example.com,.example2.com,127.0.0.0/8&quot;</span><br>   <span class="hljs-punctuation">&#125;</span><br> <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><a href="https://docs.docker.com/network/proxy/">https://docs.docker.com/network/proxy/</a></p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>docker</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux Commands</title>
    <link href="/2022/08/31/Linux-Commands/"/>
    <url>/2022/08/31/Linux-Commands/</url>
    
    <content type="html"><![CDATA[<p>uname -a 查看內核版本<br>cat &#x2F;proc&#x2F;cpuinfo | grep “physical id” |uniq | wc -l  #查看cpu個數<br>cat &#x2F;proc&#x2F;cpuinfo | grop “cpu cores” | uniq #查看cpu核心數<br>cat &#x2F;proc&#x2F;cpuinfo | grop “model name” | uniq #查看cpu型號</p><p>查看linux髮型版本<br>cat &#x2F;etc&#x2F;redhat-release #centos<br>cat &#x2F;etc&#x2F;issue  #debian<br>cat &#x2F;etc&#x2F;issue.net #debian<br>cat &#x2F;etc&#x2F;os-release #debian<br>cat &#x2F;etc&#x2F;debian_version #debian<br>cat &#x2F;etc&#x2F;lsb-release</p><p>解决 node17后 “error:0308010C:digital envelope routines::unsupported”报错<br>export NODE_OPTIONS&#x3D;–openssl-legacy-provider<br><a href="https://developer.huawei.com/consumer/cn/forum/topic/0202766264354680160?fid=23">https://developer.huawei.com/consumer/cn/forum/topic/0202766264354680160?fid=23</a></p><p>6.防火墙中配置开放 8080端口<br>注：以下命令只针对 CentOs 7 以上版本，CentOS升级到7之后，无法使用iptables控制Linuxs的端口，原因是Centos 7使用firewalld代 替了原来的iptables；<br>6.1.  输入命令：<br>firewall-cmd –zone&#x3D;public –add-port&#x3D;8080&#x2F;tcp –permanent<br>进行8080端口开放配置；</p><p>命令解析：<br>–zone #作用域<br>–add-port&#x3D;8080&#x2F;tcp #添加端口，格式为：端口&#x2F;通讯协议<br>–permanent #永久生效，没有此参数设置，重启后会失效。</p><p>6.2. 重启防火墙，输入命令：<br>firewall-cmd –reload</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Git Commands</title>
    <link href="/2022/08/31/Git-Commands/"/>
    <url>/2022/08/31/Git-Commands/</url>
    
    <content type="html"><![CDATA[<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git config --global user.name <span class="hljs-string">&quot;zw3413&quot;</span><br>git config --global user.email <span class="hljs-string">&quot;zhang*@gmail.com&quot;</span><br>git config --global user.password <span class="hljs-string">&quot;&quot;</span><br>git config --list<br></code></pre></td></tr></table></figure><h1 id="遠端庫"><a href="#遠端庫" class="headerlink" title="遠端庫"></a>遠端庫</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add origin remotegitrepositoryaddress<br>git remote remote -v    查看遠程節點<br></code></pre></td></tr></table></figure><h1 id="獲取"><a href="#獲取" class="headerlink" title="獲取"></a>獲取</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git fetch remoteNodeName    從指定遠程節點獲取更新<br>git pull            等價於git fetch &amp;&amp; git merge<br>git pull --rebase   等價於git fetch &amp;&amp; git rebase<br></code></pre></td></tr></table></figure><h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -h   喚出分支命令幫助<br>git branch -r --remote  列出遠程分支<br>git branch -l --list    列出分支<br>git branch -a --all     列出所有分支<br>git branch -D branchname   刪除分支<br>git branch new_branch 657fce7   在657fce7創建分支<br>git ckout -b bird 657fce7    在commit657fce7上新建分支並切換過去<br>git branch bird 657fce7         在commit657fce7上新建分支不跳<br>git switch -c<br>git checkout branchname     切換到分支<br>git checkout --track remote-branchname  切換遠端分支同時在本地創建分支<br>git branch -a   查看远程分支<br>git checkout -b xxxx（本地分支名称） yyyy(上条命令查找到的远程分支的名称)<br>git branch 检查下 本地分支是否创建成功<br>git branch -vv 查看本地分支與遠程分支的關係<br>git checkout commitid   切換到指定的提交<br>git checkout filename   將文件從版本庫中取出，覆蓋當前工作區文件<br></code></pre></td></tr></table></figure><h1 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">rm</span> filename     等價於 <span class="hljs-built_in">rm</span> filename &amp;&amp; git add filename 將文件從工作區和暫存區移除<br>git <span class="hljs-built_in">rm</span> filename --cached        將文件從暫存區移除，相對於git add filename<br>git add -p filename 以不同的模式將文件加入暫存區, y-全部 e-部分<br>git add --all       添加repository中所有文件<br>git commit -a -m <span class="hljs-string">&quot;commit with add first&quot;</span>    在提交前先添加<br>git commit -a --allow-empty  -m <span class="hljs-string">&quot;empty commit&quot;</span><br>git commit --amend -m <span class="hljs-string">&#x27;change the comment of last commit&#x27;</span><br>git commit --amend --no-edit<br></code></pre></td></tr></table></figure><h1 id="重置"><a href="#重置" class="headerlink" title="重置"></a>重置</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git reset HEAD^<br></code></pre></td></tr></table></figure><h1 id="上傳"><a href="#上傳" class="headerlink" title="上傳"></a>上傳</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">git push -u origin local_branch_name 在遠程創建同名本地分支，並追蹤<br>git push origin master:master<br>git push -f     大招<br>git push origin :master     刪除遠程分支<br></code></pre></td></tr></table></figure><h1 id="日誌"><a href="#日誌" class="headerlink" title="日誌"></a>日誌</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">log</span>             顯示提交歷史<br>git <span class="hljs-built_in">log</span> --oneline   單行模式顯示提交歷史<br>git <span class="hljs-built_in">log</span> filename    顯示某一個文件的提交歷史<br>git <span class="hljs-built_in">log</span> -p filename 顯示某一個文件的提交歷史以及修改詳情<br>git <span class="hljs-built_in">log</span> -g<br>git reflog<br></code></pre></td></tr></table></figure><h1 id="清理"><a href="#清理" class="headerlink" title="清理"></a>清理</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">rm</span> --cached     清理gitignore緩存<br>git clean -fx       清除所有被gitignore忽略的文件<br></code></pre></td></tr></table></figure><h1 id="暫存"><a href="#暫存" class="headerlink" title="暫存"></a>暫存</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">git stash       暫存已追蹤<br>git stash -u    暫存包含未追蹤<br>git stash list<br>git stash pop stash@&#123;2&#125;<br>git stash drop stash@&#123;0&#125;<br>git stash apply stash@&#123;1&#125;<br>git filter-branch --tree-filter <span class="hljs-string">&quot;rm -f config/database.yml&quot;</span> 批量修改commits<br>git reset refs/original/refs/heads/master --hard<br></code></pre></td></tr></table></figure><h1 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git diff e37078e d4d8d9d    比對兩個commit<br>git diff e37078e            比對e37078e與HEAD指向的commit<br>git diff                    比對工作目錄與暫存區<br>git diff --cached           比對暫存區與HEAD指向的commit<br>git diff-tree HEAD --name-only -r --no-commit-id<br>git blame -L 5,10 filename  顯示每一行的修改人，可指定行範圍<br></code></pre></td></tr></table></figure><h1 id="cherry-pick"><a href="#cherry-pick" class="headerlink" title="cherry-pick"></a>cherry-pick</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">git cherry-pick [&lt;options&gt;] &lt;commit-ish&gt;...<br>options:<br>--quit                quit current chery-pick sequence<br>--<span class="hljs-built_in">continue</span>            <span class="hljs-built_in">continue</span> current chery-pick sequence<br>--abort               abort current chery-pick sequence，restore current branch<br>-n, --no-commit       not auto-commit, changes will be implemnted on branch1 but need commit manually<br>-e, --edit            edit commit message<br></code></pre></td></tr></table></figure><blockquote><p>There two branch- branch1 and branch2 in local repostory, check the commit logs of each branch first:</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git checkout branch2    or   git switch branch2<br>$ git <span class="hljs-built_in">log</span> --oneline -3<br>    23d9422 [Description]:branch2 commit 3<br>    2555c6e [Description]:branch2 commit 2<br>    b82ba0f [Description]:branch2 commit 1<br>$ git checkout branch1<br>    Switched to branch <span class="hljs-string">&#x27;branch1&#x27;</span><br>$ git <span class="hljs-built_in">log</span> --oneline -3<br>    20fe2f9 commit second<br>    c51adbe commit first<br>    ae2bd14 commit 3th<br></code></pre></td></tr></table></figure><blockquote><p>Now, we want pick up one commit on branch2, and merge it to branch1, we can use cherry-pick command: </p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git cherry-pick 2555c6e<br>    error: could not apply 2555c6e... [Description]:branch2 commit 2<br>    hint: after resolving the conflicts, mark the corrected paths<br>    hint: with <span class="hljs-string">&#x27;git add &lt;paths&gt;&#x27;</span> or <span class="hljs-string">&#x27;git rm &lt;paths&gt;&#x27;</span><br>    hint: and commit the result with <span class="hljs-string">&#x27;git commit&#x27;</span><br></code></pre></td></tr></table></figure><blockquote><p>If no conflicts, above command will finish the process and success.<br>If conflict happens, like above hint, we need to resolve the conflicts first, then use git commit to commit manually: </p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git commit <br>    [branch1 790f431] [Description]:branch2 commit 2<br>    Date: Fri Jul 13 18:36:44 2018 +0800<br>    1 file changed, 1 insertion(+)<br>    create mode 100644 only-for-branch2.txt<br></code></pre></td></tr></table></figure><blockquote><p>Or use git add. to mark we have reloved the conflicts, and then git cherry-pick –continue to continue the cherry-pick.<br>Finally, check the commit log of branch1, we can see the target commit show on branch1.</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">log</span> --oneline -3<br>    790f431 [Description]:branch2 commit 2<br>    20fe2f9 commit second<br>    c51adbe commit first<br></code></pre></td></tr></table></figure><blockquote></blockquote><h1 id="more"><a href="#more" class="headerlink" title="more"></a>more</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">git cherry-pick fd23e1c 6a498ec f4f4442  應用指定提交<br>git cherry-pick --no-commit fd23e1c 6a498ec f4f4442  應用指定放暫存區不提交<br>git format-patch fd7cd38..6e6ed76   生成從fd7cd38(之後，不包含)到6e6ed76的patch<br>git format-patch -2 -o /tmp/patches 生成過去兩個commit的patch,並指定保存位置<br>git am /tmp/patches 應用patch<br>git archive         打包指定文件，分支、提交、目錄、項目 都可以<br>squash  擠入<br>amend   修正<br>meld    融合<br>rewinding 倒退<br>stash   儲藏<br></code></pre></td></tr></table></figure><h1 id="合併兩個分支遇到衝突，合併失敗時，通過rebase待合併的分支來解決衝突"><a href="#合併兩個分支遇到衝突，合併失敗時，通過rebase待合併的分支來解決衝突" class="headerlink" title="合併兩個分支遇到衝突，合併失敗時，通過rebase待合併的分支來解決衝突"></a>合併兩個分支遇到衝突，合併失敗時，通過rebase待合併的分支來解決衝突</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">git checkout test-increase-test-coverage    //切換到待合併的分支<br>git fetch feat-add-daily-mileage    //獲取最新的基礎分支<br>git rebase origin/feat-add-daily-mileage    //開始rebase <br>// Then I fixed conflicts and commited<br>git rebase --<span class="hljs-built_in">continue</span>    //執行rebase <br>git push -f origin test-increase-test-coverage    //更新待合併分支<br></code></pre></td></tr></table></figure><h1 id="修改-gitignore後，刷新緩存"><a href="#修改-gitignore後，刷新緩存" class="headerlink" title="修改.gitignore後，刷新緩存"></a>修改.gitignore後，刷新緩存</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">rm</span> -r --cached .<br>git add .<br>git commit -m <span class="hljs-string">&#x27;update .gitignore&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="GIT-PULL-強制覆蓋本地"><a href="#GIT-PULL-強制覆蓋本地" class="headerlink" title="GIT PULL 強制覆蓋本地"></a>GIT PULL 強制覆蓋本地</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">git fetch --all<br>git reset --hard origin/master<br>git pull<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nodejs Digital envelope routines::unsupported</title>
    <link href="/2022/08/31/Nodejs-Digital-envelope-routines-unsupported/"/>
    <url>/2022/08/31/Nodejs-Digital-envelope-routines-unsupported/</url>
    
    <content type="html"><![CDATA[<p>digital envelope routines::unsupported</p><p>set NODE_OPTIONS&#x3D;–openssl-legacy-provider<br>export NODE_OPTIONS&#x3D;–openssl-legacy-provider</p>]]></content>
    
    
    <categories>
      
      <category>error</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nodejs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VSCode Shortcuts</title>
    <link href="/2022/08/31/VSCode-shortcuts/"/>
    <url>/2022/08/31/VSCode-shortcuts/</url>
    
    <content type="html"><![CDATA[<p>Ctrl + Enter   新建並跳到新的一行</p>]]></content>
    
    
    <categories>
      
      <category>tool</category>
      
    </categories>
    
    
    <tags>
      
      <tag>VSCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Selenium</title>
    <link href="/2022/08/31/Selenium/"/>
    <url>/2022/08/31/Selenium/</url>
    
    <content type="html"><![CDATA[<p>A web test automation framework.</p><p>Installation</p>]]></content>
    
    
    <categories>
      
      <category>opensource</category>
      
    </categories>
    
    
    <tags>
      
      <tag>python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Haskell</title>
    <link href="/2022/08/16/Haskell/"/>
    <url>/2022/08/16/Haskell/</url>
    
    <content type="html"><![CDATA[<h3 id="Haskell"><a href="#Haskell" class="headerlink" title="Haskell"></a>Haskell</h3><p>Haskell is an advanced purely-functional programming language. An open-source product of more than twenty years of cutting-edge research, it allows rapid development of robust, concise, correct software. With strong support for integration with other languages, built-in concurrency and parallelism, debuggers, profilers, rich libraries and an active community, Haskell makes it easier to produce flexible, maintainable, high-quality software.</p><p><a href="https://www.haskell.org/">https://www.haskell.org/</a><br><a href="https://wiki.haskell.org/Haskell">https://wiki.haskell.org/Haskell</a><br><a href="https://www.cs.princeton.edu/~dpw/cos441-11/notes/slides15-lambda-proofs.pdf">https://www.cs.princeton.edu/~dpw/cos441-11/notes/slides15-lambda-proofs.pdf</a></p><h3 id="Lambda-Calculus"><a href="#Lambda-Calculus" class="headerlink" title="Lambda-Calculus"></a>Lambda-Calculus</h3><p>The (\lambda)-calculus is, at heart, a simple notation for functions and application. The main ideas are applying a function to an argument and forming functions by abstraction. The syntax of basic (\lambda)-calculus is quite sparse, making it an elegant, focused notation for representing functions. Functions and arguments are on a par with one another. The result is a non-extensional theory of functions as rules of computation, contrasting with an extensional theory of functions as sets of ordered pairs. Despite its sparse syntax, the expressiveness and flexibility of the (\lambda)-calculus make it a cornucopia of logic and mathematics. This entry develops some of the central highlights of the field and prepares the reader for further study of the subject and its applications in philosophy, linguistics, computer science, and logic.</p><p><a href="https://plato.stanford.edu/entries/lambda-calculus/">https://plato.stanford.edu/entries/lambda-calculus/</a></p>]]></content>
    
    
    <categories>
      
      <category>otherlanguage</category>
      
    </categories>
    
    
    <tags>
      
      <tag>haskell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Notes</title>
    <link href="/2022/08/04/Hexo-Notes/"/>
    <url>/2022/08/04/Hexo-Notes/</url>
    
    <content type="html"><![CDATA[<h1 id="delete-post"><a href="#delete-post" class="headerlink" title="delete post"></a>delete post</h1><ol><li>delete the md file under _post folder</li><li>hexo clean to delete the database and other files</li><li>hexo generate to regenerate cache</li><li>hexo deploy<br>done.</li></ol><h1 id="Add-Image-to-Post"><a href="#Add-Image-to-Post" class="headerlink" title="Add Image to Post"></a>Add Image to Post</h1><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&#123;<span class="hljs-comment">% asset_img a.jpg a %&#125;</span><br></code></pre></td></tr></table></figure><img src="/2022/08/05/Hexo-Notes/a.jpg" class="" title="a"><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs prolog">&#123;<span class="hljs-comment">% asset_link a.jpg a %&#125;</span><br></code></pre></td></tr></table></figure><a href="/2022/08/05/Hexo-Notes/a.jpg" title="a">a</a><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs django"><span class="hljs-template-tag">&#123;% <span class="hljs-name">asset_path</span> a.jpg %&#125;</span><br></code></pre></td></tr></table></figure>/2022/08/05/Hexo-Notes/a.jpg<h1 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h1><ul><li>NexT:<br><a href="https://theme-next.iissnan.com/getting-started.html">https://theme-next.iissnan.com/getting-started.html</a></li></ul><h1 id="Hexo-Categories-and-Tags"><a href="#Hexo-Categories-and-Tags" class="headerlink" title="Hexo Categories and Tags"></a>Hexo Categories and Tags</h1><p><a href="https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/">https://linlif.github.io/2017/05/27/Hexo%E4%BD%BF%E7%94%A8%E6%94%BB%E7%95%A5-%E6%B7%BB%E5%8A%A0%E5%88%86%E7%B1%BB%E5%8F%8A%E6%A0%87%E7%AD%BE/</a></p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Universities in Canada</title>
    <link href="/2022/08/04/Universities%20in%20Canada/"/>
    <url>/2022/08/04/Universities%20in%20Canada/</url>
    
    <content type="html"><![CDATA[<p><a href="https://www.educanada.ca/">https://www.educanada.ca/</a></p><h3 id="Ontario"><a href="#Ontario" class="headerlink" title="Ontario"></a>Ontario</h3><h4 id="Algonquin-College-Ottawa"><a href="#Algonquin-College-Ottawa" class="headerlink" title="Algonquin College Ottawa"></a>Algonquin College Ottawa</h4><p><a href="https://www.algonquincollege.com/future-students/programs/?topFilter=">https://www.algonquincollege.com/future-students/programs/?topFilter=</a></p><h3 id="Alberta"><a href="#Alberta" class="headerlink" title="Alberta"></a>Alberta</h3><h4 id="Norquest-College"><a href="#Norquest-College" class="headerlink" title="Norquest College"></a>Norquest College</h4><ul><li>Machine Learning Analyst Diploma<br><a href="https://www.norquest.ca/programs-and-courses/programs/machine-learning-analyst/?year=2022-2023">https://www.norquest.ca/programs-and-courses/programs/machine-learning-analyst/?year=2022-2023</a><br>Year1: $17700<br>Year2: $19000</li></ul><h4 id="Lethbridge-College-Lethbridge"><a href="#Lethbridge-College-Lethbridge" class="headerlink" title="Lethbridge College  Lethbridge"></a>Lethbridge College  Lethbridge</h4><p>Computer Information Technology<br><a href="https://lethbridgecollege.ca/programs/computer-information-technology">https://lethbridgecollege.ca/programs/computer-information-technology</a><br>Year 1: $13,092.00 + $1,163.00 + $1,755.00 &#x3D; $16010<br>Year 2: $15,612.00 + $1,293.00 + $1,480.00 &#x3D; $18385</p><h4 id="Medicine-Hat-College-Medicine-Hat"><a href="#Medicine-Hat-College-Medicine-Hat" class="headerlink" title="Medicine Hat College   Medicine Hat"></a>Medicine Hat College   Medicine Hat</h4><p>Information Technology</p><a href="/2022/08/04/Universities%20in%20Canada/INTERNATIONAL%20Website%20Cost%20Estimator_051722.pdf" title="cost">cost</a><p><a href="https://www.mhc.ab.ca/ProgramsandCourses/Academic-Programs/Programs-of-Study/Information-Technology">https://www.mhc.ab.ca/ProgramsandCourses/Academic-Programs/Programs-of-Study/Information-Technology</a><br>within $19,000</p><h4 id="Bow-Valley-College"><a href="#Bow-Valley-College" class="headerlink" title="Bow Valley College"></a>Bow Valley College</h4><p>Data Management and Analytics Post-Diploma Certificate<br><a href="https://bowvalleycollege.ca/programs-courses/technology/data-management-and-analytics-post-diploma-certificate">https://bowvalleycollege.ca/programs-courses/technology/data-management-and-analytics-post-diploma-certificate</a><br>2 Terms with $34,462</p><p>Cybersecurity Post-Diploma Certificate<br><a href="https://bowvalleycollege.ca/programs-courses/technology/cybersecurity-post-diploma-certificate">https://bowvalleycollege.ca/programs-courses/technology/cybersecurity-post-diploma-certificate</a><br>2 Terms with $26,146 + $700</p><p>Cloud Computing Post-Diploma Certificate<br><a href="https://bowvalleycollege.ca/programs-courses/technology/cloud-computing-post-diploma-certificate">https://bowvalleycollege.ca/programs-courses/technology/cloud-computing-post-diploma-certificate</a><br>2 Terms with $27,781</p><p>Software Development Diploma<br><a href="https://bowvalleycollege.ca/programs-courses/technology/software-development-diploma">https://bowvalleycollege.ca/programs-courses/technology/software-development-diploma</a><br>$38,391 + $226</p><p>Advanced Game Development Diploma<br><a href="https://bowvalleycollege.ca/programs-courses/centre-for-entertainment-arts/advanced-game-development#course-listings">https://bowvalleycollege.ca/programs-courses/centre-for-entertainment-arts/advanced-game-development#course-listings</a><br>6 Terms with $67,699</p><h3 id="BC-Britsh-Columbia"><a href="#BC-Britsh-Columbia" class="headerlink" title="BC - Britsh Columbia:"></a>BC - Britsh Columbia:</h3><h4 id="famous-post-graduate-school"><a href="#famous-post-graduate-school" class="headerlink" title="famous post-graduate school:"></a>famous post-graduate school:</h4><ul><li>UBC</li><li>SFU</li><li>UVIC</li></ul><h4 id="secondary-post-graduate-school"><a href="#secondary-post-graduate-school" class="headerlink" title="secondary post-graduate school:"></a>secondary post-graduate school:</h4><ul><li><p>TRU <em>Thompson Rivers University</em><br> <strong>Early Childhood Education</strong>  <a href="https://www.tru.ca/edsw/schools-and-departments/education/ece.html">https://www.tru.ca/edsw/schools-and-departments/education/ece.html</a></p></li><li><p>RRU <em>Royal Roads University</em><br>There is no computer science related graduate diploma program.</p></li><li><p>BCIT <em>British Columbia Institute of Technology, Vancouvor</em><br> <strong>CST</strong> <a href="https://www.bcit.ca/programs/computer-systems-technology-diploma-full-time-5500dipma/">https://www.bcit.ca/programs/computer-systems-technology-diploma-full-time-5500dipma/</a></p><p> <strong>CIT</strong> <a href="https://www.bcit.ca/programs/computer-information-technology-diploma-full-time-5540dipma/#entry">https://www.bcit.ca/programs/computer-information-technology-diploma-full-time-5540dipma/#entry</a></p></li></ul><h3 id="Manitoba"><a href="#Manitoba" class="headerlink" title="Manitoba"></a>Manitoba</h3><p>曼尼托巴省具有完善的教育体制，主要有五所大学和八所大专。<br>五所大学分别是<br>University of Manitoba（曼尼托巴大学），<br>University of Winnipeg（温尼伯大学），<br>Canadian Mennonite University,<br>College universitaire de Saint-Boniface (CUSB)，<br>Brandon University，<br>其中以曼尼托巴大学和温尼伯大学最为著名。</p><p>八所大专中有一所法语学校，其余七所为英语学校，分别是<br>Assiniboine Community College,<br>Keewatin Community College,<br>Red River College,<br>Steinbach Bible College,<br>Steinbach Bible College,<br>Stevenson Aviation Technical Training Centre.<br>位于加拿大曼尼托巴省温尼伯市南郊的曼尼托巴大学（University of Manitoba），成立于 1877 年，是加拿大西部历史最悠久的大学。 曼尼托巴大学（University of Manitoba）简称 U of M，有两个校区，设有 22 所学院，三所教会学院：<br>温尼伯大学位于加拿大曼尼托巴省的省会城市温尼伯市中心，建于1967年，是一所设有高中、英语语言学校、大学预科教育以及学位课程的综合性院校，在加拿大21所毕业院校中排名第六，是加拿大西部最好的大学之一。<br>布兰顿大学是一所具有百年历史的大学。是北美学费最低的大学之一，其音乐学院在加拿大享有盛名。</p><h3 id="Famous-University-in-Canada"><a href="#Famous-University-in-Canada" class="headerlink" title="Famous University in Canada"></a>Famous University in Canada</h3><ul><li>Toronto:    University of Toronto</li><li>魁北克:      McGill University</li><li>BC:         University of British Columbia</li><li>Alberta:    University of Alberta</li><li>McMaster University</li><li>University of Waterloo</li><li>Western University</li><li>Alberta:    University of Calgary</li><li>Queen’s University</li></ul><p>Harifax<br>Sanit Mary’s University<br><a href="https://smu-ca-public.courseleaf.com/graduate/academic-regulations/registration/">https://smu-ca-public.courseleaf.com/graduate/academic-regulations/registration/</a></p>]]></content>
    
    
    <categories>
      
      <category>Canada</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>My Every Day</title>
    <link href="/2022/08/03/My-Every-Day/"/>
    <url>/2022/08/03/My-Every-Day/</url>
    
    <content type="html"><![CDATA[<p>2022-08-04<br>Organized Plans of Action<br>In an interesting study or a variety of studies that have been done, they’ve come to a conclusion that organized plans of action are the key to all success. In fact, action without planning is the cause of every failure. Action without planning is the cause of underachievement. Action without planning is a cause of frustration, time wastage, anxiety, stress and lack of success in life.</p><p>2022-08-05<br>Learned how to set categories and tags for my hexo blog.<br>Readed the introduction about Hugo, another fast blog framework. I may change my blog tool from Hexo to Hugo in a day which the posts get in a large number, as what I readed, the Hexo will be very slow to generate static content, and the Hugo only cost 1 by 10 of time.</p><p>2022-08-16<br>Moved all the running apps to test machine - including the grafana, my_go_api. Integrated the util_front into my_go_api.<br>Learned how to use gin to serve static web resources.<br>I will focus on the next 3 main points for the next three months:</p><ol><li>English ELTS</li><li>Blog    TECH</li><li>Canada  DIPLOMA</li></ol><p>2022-08-29<br>One thing at a time.<br>If you want to be success, you need to find out what you want, then figure out the way to archive it.<br>Everyone has their own life, they have their routine to be themself, and it is the same to you, keep your routine.<br>Do something meaningful, valuable, worthy your time and spirit, otherwise, be halt, stop doing anything.<br>So, the thing what I current doing is the IELTS, my target is above 6. Be focus and be consistant.<br>Decorate and fill in this blog, don’t be worried and bothered with otherthing.<br>If one cannot be ethereal, he is better to go die.<br>Home should be the provenance of one’s energy.</p><p>2022-09-01 one month<br>Conculsion:<br>The decision was made just a month ago, in the previous month, I reviewed 1100 English words to imporve my vocabulary.<br>And also I looked some information about Universities and Colleges in Canada, especilly in Albeta.<br>The study program field I focused in is CS, but the tuition and fees are genereally higher than other majors.<br>I replaced some of subscribed youtube channels with Canada news or immigration relavent channels.<br>And also, I envoloved myself into several relavent Wechat group to attempt to get some infomation about the process and schools.<br>After the decision was made, I think a lot of archievements have been made in past one month, I continuesily invested to learn how is the shape of life in that country like.<br>I have some hesitation, as I have a comfortable and stable life currently at my home city, I have my job, I have my apartment, I have my dog, I have my bicycle.<br>In addition, the environment around is so good which makes me feel quite comfortable. The blocks, the street, the road, the meadow ground, all are so pretty.<br>Sometime I even wonder if it is correct to went on this routine, what is the benefit I am pursuing. I need to find a new job which is unkonwn, and need to build a new home to like, the relocate must be expensive.</p><p>Plan:<br>But look at the future of the economic of this country, and look at the education which I hate, look at the people in this city and country, abvously I have the desire to have a change.<br>Regardless of the hesition above, as the decision has been made, I should go this routine along, to approach the target , the Calgary.<br>Ok, for next. I need to focus on the IELTS, meanwhile look for appropriate schools and majors, which is not expensive in Calgary.<br>Also I have some free in the work time, that will be take on my tech blog, which to conclude my tech skills, such as Java&#x2F;Golang&#x2F;Web development, to build my namecard on internet, to prepare for my future earnings, a mount of money will be required, to support my plan, and to support my family.</p><p>Point:<br>Is is not difficult, but it need persistence.<br>A Point I need to recognize is that I need to boost the speed of going through the dictionary, to make time for later reading&#x2F;writing&#x2F;listening&#x2F;speaking training.<br>Keep going and changing, slowly and firmly.</p><p>2023-03-29<br>Working hard for something we don’t care about, it is called “stress”, working hard for something we love, it is called “passion”.</p><p>2022-10-20<br>你是一个什么样的人，你想成为一个什么样的人</p><ul><li>撕裂的思维<br>晚上睡觉前还在浏览手机里面各种各样的言论，睡着了一夜无梦；<br>早上睡醒感觉还行，很舒适的感觉，大家都还没起来，轻手轻脚去洗脸刷牙，回来又躺了一会儿；<br>好像忘却了什么，是不是忘却了昨天的情绪，也淡化了一些戾气；<br>大白还在那里睡觉；<br>有阶级有领导，有平凡有普通，什么都有，好也不好，不好也没什么不好；<br>也许还要三天，至少还要三天；<br>我想优化，要减少手机中各种言论的侵染，要让大脑慢下来，停下来；<br>平静，平淡，平凡，不言；<br>多设立和达成一些小目标，静专思主。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Let The Xcode Use Proxy</title>
    <link href="/2022/07/24/Xcode-Use-Proxy/"/>
    <url>/2022/07/24/Xcode-Use-Proxy/</url>
    
    <content type="html"><![CDATA[<p>use <a href="https://www.proxifier.com/">https://www.proxifier.com</a> to config xcode use the system proxy.</p><ol><li><p>config the proxy</p></li><li><p>config the rule</p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Mac</tag>
      
      <tag>Xcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Youtube Downloader</title>
    <link href="/2022/07/24/youtube-downloader/"/>
    <url>/2022/07/24/youtube-downloader/</url>
    
    <content type="html"><![CDATA[<p>for ios :  <a href="https://github.com/kewlbear/YoutubeDL">https://github.com/kewlbear/YoutubeDL</a></p><p>for desktop(mac&amp;windows) : <a href="https://github.com/jely2002/youtube-dl-gui">https://github.com/jely2002/youtube-dl-gui</a></p><p>the kernal: <a href="https://github.com/ytdl-org/youtube-dl">https://github.com/ytdl-org/youtube-dl</a></p>]]></content>
    
    
    <categories>
      
      <category>opensource</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nodejs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Google Hacking</title>
    <link href="/2022/07/24/google-hacking/"/>
    <url>/2022/07/24/google-hacking/</url>
    
    <content type="html"><![CDATA[<ol><li><p>search the webcan on internet<br>intitle:”webcamXP 5”</p></li><li><p>search the specified website<br>site:csdn.net</p></li><li><p>search the sepecified filetype<br>filetype:pdf</p></li><li><p>search the website index<br>intitle:index.of queen(mp3)</p></li><li><p>search the database user info<br>filetype:sql intext:”password”</p></li><li><p>google hacking database<br>ghdb</p></li></ol>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
